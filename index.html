<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>??????? ????????? ???????? ???????</title>
    <!-- ?????? -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/font-normalization.css">
    <link href="https://fonts.googleapis.com/earlyaccess/droidarabickufi.css" rel="stylesheet">
    <!-- Font Awesome ???????? ??????? ????????? -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- ????? ??????? -->
    <link rel="stylesheet" href="styles/global.css">
    <link rel="stylesheet" href="styles/home/topbar.css">
    <link rel="stylesheet" href="styles/home/navbar.css">
    <link rel="stylesheet" href="styles/home/header.css">
    <link rel="stylesheet" href="styles/home/services.css">
    <link rel="stylesheet" href="styles/login-modal.css">
    <link rel="stylesheet" href="styles/home/latest-updates.css">
    <link rel="stylesheet" href="styles/home/contact.css">
    <link rel="stylesheet" href="styles/home/subscribe.css">
    <link rel="stylesheet" href="styles/home/partners.css">
    <link rel="stylesheet" href="styles/home/footer.css">
    <link rel="stylesheet" href="styles/home/settings.css">
    <link rel="stylesheet" href="styles/home/mobile-settings.css">
    <link rel="stylesheet" href="styles/search-popup.css">
    <link rel="stylesheet" href="styles/mobile-navbar.css">
    <link rel="stylesheet" href="styles/mobile-view.css">
    <link rel="stylesheet" href="styles/mobile-menu.css">
    <!-- ????? ????? ?? ????????? ??? ???? ??????? ???????? -->
    <link rel="stylesheet" href="styles/hamburger-fix.css">
    <!-- ????? ??????? ???????? ?? ???????? -->
    <link rel="stylesheet" href="styles/mobile-dropdown.css">
    <!-- ????? ????? ??? ???????? ????? ??????? -->
    <link rel="stylesheet" href="styles/navbar-mobile-fix.css">
    <!-- Latest Updates styles are now in external file updates-new.css -->
    <link rel="stylesheet" href="styles/home/background-section.css">
        <link rel="stylesheet" href="styles/simple-zoom.css">
    <!-- ????? ????? ????? ???? ?????? ???????? -->
    <link rel="stylesheet" href="styles/password-change-mobile.css">
<style>
/* ?????????? ???? Droid Arabic Kufi ?????? ???????? ?????????????? */
* {
    font-family: "Droid Arabic Kufi", sans-serif !important;
}
body, html {
    font-family: "Droid Arabic Kufi", sans-serif !important;
}
h1, h2, h3, h4, h5, h6, p, span, div, a, button, input, textarea, label, li, td, th, select, option {
    font-family: "Droid Arabic Kufi", sans-serif !important;
}
.title, .text, .content, .description, .heading, .label, .item, .menu-item, .nav-item {
    font-family: "Droid Arabic Kufi", sans-serif !important;
}

/* ?? ??? ???? ??????? ??????? - ???? ????? ??? ??????? */
html, body {
    margin: 0 !important;
    padding: 0 !important;
    overflow-x: hidden !important;
}

/* ????? ??????? "?????? ?????????" ?? ????????? ????????? */
.desktop-only {
    display: block !important;
}

.mobile-only {
    display: none !important;
}

@media (max-width: 991px) {
    .desktop-only {
        display: none !important;
    }
    
    .mobile-only {
        display: block !important;
    }
}

/* ????? border-radius ??? sidebar-btn ?? ????????? ??? */
@media (min-width: 992px) {
    .sidebar-btn {
        border-top-right-radius: 12px !important;
        border-bottom-right-radius: 12px !important;
    }
}

/* ?? ??????? ?????? - ??????? ??????? ??? */
body.dark-contrast {
    /* 1. ????? btn primary-btn - ????? ????? */
    .btn.primary-btn,
    .hero-buttons .btn.primary-btn,
    a.btn.primary-btn,
    a[class*="btn primary-btn"],
    .hero-buttons a.btn.primary-btn,
    .hero-content .btn.primary-btn {
        background-color: #000000 !important;
        color: #ffffff !important;
        border: 1px solid #000000 !important;
        border-color: #000000 !important;
    }
    
    /* 2. ?????? section-title */
    .section-title {
        color: #000000 !important;
    }


    /* .services-header {
    /* 3. ??????? "?????? ?????????" */
    /* .sub-header h3,
    h3[style*="color: rgb(51, 51, 51)"] {
        color: #000000 !important;
    } */ */
    
    /* 4. ????? sidebar-btn */
    .sidebar-btn {
        background-color: #000000 !important;
    }
    
    /* 5. ??????? ??????? - ??????? ?????? */
    .service-card .card-icon img,
    .services-cards .card-icon img {
        filter: brightness(0) !important;
    }
    
    /* ??????? ?????? - ??????? ?????? ?? ??????? ?????? (?? ??? ????? ??? ?????? ??????) */
    .details-icon,
    .details-button img:not([src*="services-arrow"]),
    img[src*="Vector.png"] {
        filter: brightness(0) !important;
    }
    
    /* 6. ?????? section-title text-center */
    .section-title.text-center {
        color: #000000 !important;
    }
    
    /* 7. ????? footer-content */
    .footer-content {
        background-color: #121212 !important;
    }
    
    /* 10. ????? copyright */
    .copyright {
        background-color: #090909 !important;
    }
    
    /* 8. ?????? "??? ???????" - ????? ????? ??? ???? */
    .tab-publish.active,
    .tab-publish {
        background-color: #000000 !important;
        color: #ffffff !important;
        border-color: #000000 !important;
    }
    
    /* 9. ????? "???? ?????????" - ?? ???? ??? */
    h2.section-title.text-center {
        color: #000000 !important;
        background-color: transparent !important;
    }
    
    /* ?????? ????? ??????? ???????? */
    
    /* ????? ????? ?????? sidebar-btn (????? ???????) */
    .sidebar-btn {
        background-color: #000000 !important;
        color: #ffffff !important;
    }
    
    /* ??? ?? ???? ??????? contact-title */
    .contact-title {
        color: #000000 !important;
    }
    
    /* ??? ?? ???? ??????? subscribe-title */
    .subscribe-title {
        color: #000000 !important;
    }
    
    /* ????? ????? ?????? subscribe-btn */
    .subscribe-btn,
    .subscribe-button {
        background-color: #000000 !important;
        color: #ffffff !important;
        border-color: #000000 !important;
    }
    
    /* ?????? ????? ??????? ???????? - ?????? ??????? */
    
    /* ??? ?? ???? ??????? partners-title */
    .partners-title {
        color: #000000 !important;
    }
    
    /* ??? ?? ???? ??? ??????? */
    .register-text,
    .register-text .subscribe-question,
    .register-text .register-link {
        color: #000000 !important;
    }
    
    /* ??? ??????? ????? ?????? ??????? - ???? ??????? */
    img[src*="logo.png"],
    .slide-img,
    .arrow-icon,
    img[src*="services-arrow.svg"],
    .slider-arrow img,
    img[src*="support.svg"],
    img[src*="support.png"] {
        filter: none !important;
    }
    
    /* ??????? ????? ??? ???? ?????? ?????? ??????? ?? ???? ??????? */
    .top-bar .top-icons img,
    .top-bar .zoom-group img,
    .top-bar .main-icons-group img,
    .top-bar .icon-btn img,
    .top-bar .mobile-icons img,
    .top-icons img,
    .zoom-group img,
    .main-icons-group img,
    .mobile-icons img,
    .icon-btn img,
    img[src*="question.svg"],
    img[src*="search-zoom-out.svg"],
    img[src*="search-zoom-in.svg"],
    img[src*="search-zoom-out.png"],
    img[src*="search-zoom-in.png"],
    img[src*="search.png"],
    img[src*="location.png"],
    img[src*="call.png"],
    img[src*="setting-2.png"],
    img[src*="profile-circle.svg"] {
        filter: none !important;
        opacity: 1 !important;
        brightness: 1 !important;
        -webkit-filter: none !important;
    }
    
    /* ????????? ???? ??????? ?????? JavaScript */
    
    /* ??? ?? ???? ?????? ??????? ?????????? */
    .community-programs-section h3,
    h3[data-original-font-size="24"] {
        color: #000000 !important;
    }
    
    /* ??? ?? ???? ?????? "?????? ?????????" */
    .sub-header h3,
    .sub-header.desktop-only h3,
    .sub-header.mobile-only h3 {
        color: #000000 !important;
    }
    
    /* ????? ????? ?????? btn primary-btn (????? ??????? ?????? ???????) */
    .btn.primary-btn,
    .hero-buttons .btn.primary-btn,
    a.btn.primary-btn,
    button.btn.primary-btn,
    a[class*="btn primary-btn"],
    .hero-buttons a.btn.primary-btn,
    .hero-content .btn.primary-btn,
    .hero-content a.btn.primary-btn {
        background-color: #000000 !important;
        color: #ffffff !important;
        border: 1px solid #000000 !important;
        border-color: #000000 !important;
    }
    
    /* ?????? ?? ?? ????? ??? ?????? ??? ?? ??????? */
    .top-bar,
    .navbar {
        /* ?? ????? - ???? ??? ?? */
    }
    
    /* ????? ????? ?????? btn primary-btn - ????? ????? ???????? */
    .btn.primary-btn:hover,
    .btn.primary-btn:focus,
    .btn.primary-btn:active,
    .btn.primary-btn:visited,
    a.btn.primary-btn:hover,
    a.btn.primary-btn:focus,
    a.btn.primary-btn:active,
    a.btn.primary-btn:visited,
    .hero-content .btn.primary-btn:hover,
    .hero-content .btn.primary-btn:focus,
    .hero-content .btn.primary-btn:active,
    .hero-content .btn.primary-btn:visited {
        background-color: #000000 !important;
        color: #ffffff !important;
        border-color: #000000 !important;
    }
    
    /* ????? ?????? ????? ????? ????? ????? ?????? ??? ???? ????? btn primary-btn */
    * .btn.primary-btn,
    * a.btn.primary-btn,
    .hero-section .btn.primary-btn,
    .hero-section a.btn.primary-btn {
        background-color: #000000 !important;
        background: #000000 !important;
        color: #ffffff !important;
        border: 1px solid #000000 !important;
    }
    
    /* ????? ?????? ???? ?????? ??????? ????? ??? ?? ?? ??????? */
    body.dark-contrast .top-bar img,
    body.dark-contrast .top-icons img,
    body.dark-contrast .zoom-group img,
    body.dark-contrast .main-icons-group img,
    body.dark-contrast .mobile-icons img,
    body.dark-contrast .icon-btn img,
    body.dark-contrast img[src*="question.svg"],
    body.dark-contrast img[src*="search-zoom-out.svg"], 
    body.dark-contrast img[src*="search-zoom-in.svg"],
    body.dark-contrast img[src*="search-zoom-out.png"],
    body.dark-contrast img[src*="search-zoom-in.png"], 
    body.dark-contrast img[src*="search.png"],
    body.dark-contrast img[src*="location.png"],
    body.dark-contrast img[src*="call.png"],
    body.dark-contrast img[src*="setting-2.png"],
    body.dark-contrast img[src*="profile-circle.svg"] {
        filter: none !important;
        -webkit-filter: none !important;
        opacity: 1 !important;
        brightness: 1 !important;
    }
}

/* ?????? ????? ?? ???? "????????" ?? ????? ??? */
.top-bar .logo {
    margin-right:0 1px !important;
    padding-right: 0 !important;
}

.top-bar .logo-link {
    margin-right: 0 !important;
    padding-right: 0 !important;
}

/* ????? ????????? */
@media (min-width: 991px) {
    .top-bar .logo {
        margin-right: 15px !important;
    }
}

/* ????? ??????? */
@media (max-width: 990px) and (min-width: 769px) {
    .top-bar .logo {
        margin-right: 10px !important;
    }
}

/* ????? ???????? */
@media (max-width: 768px) {
    .top-bar .logo {
        margin-right: 10px !important;
    }
}
</style></head>
<body>
    <!-- ??????? ???????? ???????? -->
    <div class="mobile-menu-overlay">
        <div class="mobile-side-menu">
            <div class="mobile-side-menu-links">
                <a href="index.html" class="active" style="color: var(--primary-color);">????????</a>
                
                <!-- ?? ???? ??? -->
                <a href="#" id="about-toggle" class="dropdown-button active" style="color: var(--primary-color);">
                    ???? ???
                    <img src="assets/icons/menu-Down.svg" alt="???" class="dropdown-arrow-svg">
                </a>
                
                <!-- ??????? ???????? ????? ??? -->
                <div id="about-submenu" class="submenu-container">
                    <a href="pages/about-site.html">?? ??????</a>
                    <a href="pages/about-site.html">?? ??????</a>
                </div>
                
                <!-- ?? ??????? -->
                <a href="#" id="policies-toggle" class="dropdown-button active" style="color: var(--primary-color);">
                    ???????
                    <span class="dropdown-arrow">?</span>
                </a>
                
                <!-- ??????? ???????? ???????? -->
                <div id="policies-submenu" class="submenu-container">
                    <a href="pages/privacy-policy.html">????? ????????</a>
                    <a href="pages/terms.html">?????? ????????</a>
                </div>
                
                <a href="pages/jornal-profile-view.html">????? ?? ?????</a>
                <a href="pages/asanid-service.html">???? ????????</a>
                <a href="pages/faq.html" class="colored-link">??????? ???????</a>
            </div>
            <div class="mobile-side-menu-buttons">
                <a href="#subscribe" class="subscribe-btn">????? ????</a>
                <a href="#login-modal" class="login-btn" id="mobile-login-btn" data-original-font-size="16">????? ??????</a>
            </div>
        </div>
    </div>
    
    <!-- Top Bar -->
    <div class="top-bar">
        <div class="container">
            <div class="top-bar-content">
                <div class="logo">
                    <!-- 1. ?????? ??? ?????? -->
                    <a href="index.html" class="logo-link" data-original-font-size="16">
                        <img src="assets/images/logo.png" alt="?????? ???????">
                    </a>
                    
                    <!-- 2. ?? ????? ???? -->
                    <a href="#subscribe" class="mobile-subscribe-btn" data-original-font-size="16">????? ????</a>
                    
                    <!-- 3. ???? ????????? ???? -->
                    <div class="mobile-icons">
                        <!-- 4. ????? ????????? ?? ??????? (??? ??????) -->
                        <div class="hamburger-menu" style="opacity: 1; visibility: visible; display: flex; z-index: 9999;">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                        
                        <!-- ??????? ??????? ???????? -->
                        <div class="zoom-group">
                            <button class="icon-btn zoom-out-btn" title="????? ????" data-original-font-size="16">
                                <img src="assets/icons/search-zoom-out.png" alt="?????">
                            </button>
                            <button class="icon-btn zoom-in-btn" title="????? ????" data-original-font-size="16">
                                <img src="assets/icons/search-zoom-in.png" alt="?????">
                            </button>
                        </div>
                        
                        <!-- ?????? ????? -->
                        <button class="icon-btn search-btn" data-original-font-size="16">
                            <img src="assets/icons/search.png" alt="???">
                        </button>
                        
                        <!-- ?????? ????? ?????? (???? ??? ????? ??????) -->
                        
                        <!-- ?????? ????????? -->
                        <button class="icon-btn profile-btn" id="mobile-profile-btn" style="display: none;" data-original-font-size="16">
                            <img src="assets/icons/profile-circle.svg" alt="????? ??????">
                        </button>
                        <button class="icon-btn settings-toggle-btn" data-original-font-size="16">
                            <img src="assets/icons/setting-2.png" alt="?????????">
                        </button>
                    </div>
                    
                    <!-- ????? ????????? -->
                    <div class="settings-menu">
                        <a href="#" class="settings-option contrast-option" data-original-font-size="16">
                            <span>?????</span>
                            <img src="assets/icons/Eye off.svg" alt="?????">
                        </a>
                        <!-- ????? ?????? ??????? ??????? -->
                        <div class="contrast-submenu">
                            <a href="#" class="settings-option contrast-light" data-original-font-size="16">
                                <span>????? ????</span>
                                <img src="assets/icons/Eye off.svg" alt="????? ????">
                            </a>
                            <a href="#" class="settings-option contrast-dark" data-original-font-size="16">
                                <span>????? ????</span>
                                <img src="assets/icons/Eye off-dark.svg" alt="????? ????">
                            </a>
                        </div>
                        <a href="./pages/analytics.html" class="settings-option stats-option" data-original-font-size="16">
                            <span>??????????</span>
                            <img src="assets/icons/status-up.svg" alt="??????????">
                        </a>
                        <a href="javascript:void(0);" class="settings-option logout-option" data-original-font-size="16">
                            <span>????</span>
                            <img src="assets/icons/logout.svg" alt="????? ??????">
                        </a>
                    </div>

                </div>
                <div class="top-elements">           
                    <!-- Elementos originales para vista desktop -->
                    <div class="top-icons">
                        <a href="pages/faq.html" class="common-questions" data-original-font-size="16">
                            <span class="question-mark">
                                <img src="assets/icons/question.svg" alt="??????? ???????">
                            </span>
                            <span class="questions-text">??????? ???????</span>
                        </a>
                        <div class="zoom-group">
                            <button class="icon-btn zoom-out-btn" title="????? ????" data-original-font-size="16">
                                <img src="assets/icons/search-zoom-out.png" alt="?????">
                            </button>
                            <button class="icon-btn zoom-in-btn" title="????? ????" data-original-font-size="16">
                                <img src="assets/icons/search-zoom-in.png" alt="?????">
                            </button>
                        </div>
                        
                        <div class="main-icons-group">
                            <button class="icon-btn search-btn" data-original-font-size="16">
                                <img src="assets/icons/search.png" alt="???">
                            </button>
                            <button class="icon-btn" onclick="window.location.href='#contact'" data-original-font-size="16">
                                <img src="assets/icons/location.png" alt="??????">
                            </button>
                            <button class="icon-btn" data-original-font-size="16">
                                <img src="assets/icons/call.png" alt="?????">
                            </button>
                            <button class="icon-btn profile-btn profile-icon-btn" style="display: none;" data-original-font-size="16" data-profile-setup="true">
                                <img src="assets/icons/profile-circle.svg" alt="????? ??????">
                            </button>
                            
                            <button class="icon-btn settings-toggle-btn" data-original-font-size="16">
                                <img src="assets/icons/setting-2.png" alt="?????????">
                            </button>
                            <div class="settings-menu">
                                <a href="#" class="settings-option contrast-option" data-original-font-size="16">
                                    <span>?????</span>
                                    <img src="assets/icons/Eye off.svg" alt="?????">
                                </a>
                                <!-- ????? ?????? ??????? ??????? -->
                                <div class="contrast-submenu">
                                    <a href="#" class="settings-option contrast-light" data-original-font-size="16">
                                        <span>????? ????</span>
                                        <img src="assets/icons/Eye off.svg" alt="????? ????">
                                    </a>
                                    <a href="#" class="settings-option contrast-dark" data-original-font-size="16">
                                        <span>????? ????</span>
                                        <img src="assets/icons/Eye off-dark.svg" alt="????? ????">
                                    </a>
                                </div>
                                <a href="./pages/analytics.html" class="settings-option stats-option" data-original-font-size="16">
                                    <span>??????????</span>
                                    <img src="assets/icons/status-up.svg" alt="??????????">
                                </a>
                                <a href="javascript:void(0);" class="settings-option logout-option" data-original-font-size="16">
                                    <span>????</span>
                                    <img src="assets/icons/logout.svg" alt="????? ??????">
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="top-actions">
                    <a href="#subscribe" class="join-btn" data-original-font-size="16">????? ????</a>
                    <a href="#" class="login-btn" id="login-btn" data-original-font-size="16">????? ??????</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Navbar -->
    <nav class="navbar">
        <div class="container">
            <div class="navbar-content">
                <ul class="main-menu">
                    <li class="menu-item"><a href="index.html" class="active">????????</a></li>
                    <li class="menu-item dropdown">
                        <a href="javascript:void(0);">???? ??? <img src="assets/icons/Down.png" alt="" class="dropdown-arrow"></a>
                        <div class="dropdown-hover-area"></div>
                        <div class="dropdown-menu">
                            <a href="pages/about-site.html">?? ??????</a>
                            <a href="pages/about-site.html">?? ??????</a>
                        </div>
                    </li>
                    <li class="menu-item dropdown">
                        <a href="javascript:void(0);">??????? <img src="assets/icons/Down.png" alt="" class="dropdown-arrow"></a>
                        <div class="dropdown-hover-area"></div>
                        <div class="dropdown-menu">
                            <a href="pages/privacy-policy.html">????? ????????</a>
                            <a href="pages/terms.html">???? ????????</a>
                        </div>
                    </li>
                    <li class="menu-item"><a href="pages/jornal-profile-view.html">????? ?? ?????</a></li>
                    <li class="menu-item"><a href="pages/asanid-service.html">???? ????????</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Header -->
    <header class="hero-section">
        <img src="assets/icons/Details.svg" alt="??????" class="details-icon">
        <div class="slider-container">
            <div class="slider-track">
                <div class="slide active">
                    <img src="assets/images/hero.png" class="slide-img" alt="??????? ????????? ????????">
                    <div class="container">
                        <div class="hero-content">
                            <h1 class="hero-title">??????? ????????? ???????? ???????</h1>
                            <p class="hero-text">????? ??????? ???????? ???????? ????????? ?? ??????? ??????? ????????</p>
                            <div class="hero-buttons">
                                <a href="#" class="btn primary-btn">??? ????</a>
                                <a href="#" class="btn secondary-btn">???? ??? ??????</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="slide">
                    <img src="assets/images/Component 33.png" class="slide-img" alt="??????? ????????? ????????">
                    <div class="container">
                        <div class="hero-content">
                            <h1 class="hero-title">??????? ????????? ???????? ???????</h1>
                            <p class="hero-text">????? ??????? ???????? ???????? ????????? ?? ??????? ??????? ????????</p>
                            <div class="hero-buttons">
                                <a href="#" class="btn primary-btn">??? ????</a>
                                <a href="#" class="btn secondary-btn">???? ??? ??????</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="slide">
                    <img src="assets/images/Frame 2139.png" class="slide-img" alt="??????? ????????? ????????">
                    <div class="container">
                        <div class="hero-content">
                            <h1 class="hero-title">??????? ????????? ???????? ???????</h1>
                            <p class="hero-text">????? ??????? ???????? ???????? ????????? ?? ??????? ??????? ????????</p>
                            <div class="hero-buttons">
                                <a href="#" class="btn primary-btn">??? ????</a>
                                <a href="#" class="btn secondary-btn">???? ??? ??????</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="slider-dots">
                <span class="dot active" data-index="0"></span>
                <span class="dot" data-index="1"></span>
                <span class="dot" data-index="2"></span>
            </div>
        </div>
        <div class="details-button">
            <img src="assets/icons/Vector.png" alt="????????">
            <span>????????</span>
        </div>
     
    </header>

    <!-- Main Content Section -->
    <main class="main-content">
        <!-- ??? ??????? -->
        <div class="background-section">
            <!-- ??? ??????? -->
            <section class="services-section">
                <div class="container">
                    <div class="services-header">
                        <h2 class="section-title">???????</h2>
                    </div>
                    
                    <!-- ????? ?????? -->
                    <div class="services-top">
                        <!-- ??????? ???????? -->
                        <div class="sidebar-menu">
                            <a href="pages/asanid-service.html" class="sidebar-link">
                                <div class="sidebar-btn">???? ????????</div>
                            </a>
                            <a href="pages/installment-sale.html" class="sidebar-link">
                                <div class="sidebar-btn">??????? ???????</div>
                            </a>
                            <a href="pages/council-sessions.html" class="sidebar-link">
                                <div class="sidebar-btn">????? ???? ???????</div>
                            </a>
                        </div>

                        <div class="main-content-wrapper">
                            <!-- ??????? ?????? - ??? ????????? ?? ????????? -->
                            <div class="sub-header desktop-only">
                            <h3>?????? ?????????</h3>
                        </div>
                            
                            <!-- ??????? ?????? - ??? ????????? ?? ???????? -->
                            <div class="sub-header mobile-only">
                                <h3>?????? ?????????</h3>
                            </div>
                            
                            <!-- ???? ??????? -->
                            <div class="tab-container">
                                <button class="tab-publish active">??? ???????</button>
                                <button onclick="window.location.href='pages/judgments-display.html'" class="tab-portal">????? ??????? ????????</button>
                            </div>
                            <!-- ???? ???????? -->
                            <div class="services-slider">
                            
                            <!-- ???? ???????? -->
                            <div class="services-slider">

                                <!-- ?????? ??????? -->
                                <div class="services-cards">
                                    <!-- ????? 1 - ????? ????? -->
                                    <div class="service-card">
                                        <div class="card-icon">
                                        <img src="assets/icons/Group 2057.png" alt="????? ?????">
                                        </div>
                                        <h3 class="service-title">????? ?????</h3>
                                        <p class="card-desc">??????? ????????? ???? ?? ??????? ????? ????? ?????????</p>
                                        <a href="pages/valid-regulations.html" class="more-btn">?????? ??? ??????</a>
                                    </div>
                                    
                                    <!-- ????? 2 - ????? ????? ?????? -->
                                    <div class="service-card">
                                        <div class="card-icon">
                                        <img src="assets/icons/timer.png" alt="????? ????? ??????">
                                        </div>
                                        <h3 class="service-title">????? ????? ??????</h3>
                                        <p class="card-desc">??????? ????????? ???? ?? ??????? ????? ????? ?????????</p>
                                        <a href="pages/valid-regulations.html" class="more-btn">?????? ??? ??????</a>
                                    </div>
                                    
                                    <!-- ????? 3 - ????? ????? ????? -->
                                    <div class="service-card">
                                        <div class="card-icon">
                                        <img src="assets/icons/close-square.png" alt="????? ????? ?????">
                                        </div>
                                        <h3 class="service-title">????? ????? ?????</h3>
                                        <p class="card-desc">??????? ????????? ???? ?? ??????? ????? ????? ?????????</p>
                                        <a href="pages/judicial-rulings-links.html" class="more-btn">?????? ??? ??????</a>
                                    </div>
                                    
                                    <!-- ????? 4 - ????? ???? ??? ???? ??? -->
                                    <div class="service-card">
                                        <div class="card-icon">
                                        <img src="assets/icons/book.png" alt="????? ???? ??? ???? ???">
                                        </div>
                                        <h3 class="service-title">????? ???? ??? ???? ??? ???????? ???????</h3>
                                        <p class="card-desc">??????? ????????? ???? ?? ??????? ????? ????? ?????????</p>
                                        <a href="pages/general-search-engine.html" class="more-btn">?????? ??? ??????</a>
                                    </div>
                                <a href="pages/our-services.html" class="slider-arrow prev">
                                    <img src="assets/icons/services-arrow.svg" alt="??????" class="arrow-icon">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ??????? ?????? -->
                <div class="community-programs-section">
                    <h3 data-original-font-size="24" style="font-size: 24px;">????? ???????? ??? ?????? ???? ???????</h3>
                </div>
                </div>
                
            </section>
        </div>
        
        <section class="latest-updates-section">
            <div class="container">
                <div class="updates-header">
                    <h2 class="section-title text-center">???? ?????????</h2>
                    <a href="pages/about-site.html" class="all-news-link">
                        <span class="list-icon">?</span>
                        <span>???? ???????</span>
                    </a>
                </div>
                
                <div class="updates-content">
                    <div class="updates-cards-slider" id="updatesSlider">
                        <div class="slider-container">
                            <!-- ????? ??????? ?????? -->
                            <div class="update-card" data-original-font-size="16" style="font-size: 16px; display: block;">
                                <div class="card-image" data-original-font-size="16" style="font-size: 16px;">
                                    <img src="assets/images/Component 33.png" alt="??????? ?????????">
                                </div>
                            </div>
                            
                            <!-- ????? ??????? ??????? -->
                            <div class="update-card" data-original-font-size="16" style="font-size: 16px; display: block;">
                                <div class="card-image" data-original-font-size="16" style="font-size: 16px;">
                                    <img src="assets/images/Component 33.png" alt="??????? ?????????">
                                </div>
                            </div>
                            
                            <!-- ????? ??????? ??????? -->
                            <div class="update-card" data-original-font-size="16" style="font-size: 16px; display: block;">
                                <div class="card-image" data-original-font-size="16" style="font-size: 16px;">
                                    <img src="assets/images/Component 33.png" alt="??????? ?????????">
                                </div>
                            </div>
                            
                            <!-- ????? ??????? ??????? -->
                            <div class="update-card" data-original-font-size="16" style="font-size: 16px; display: block;">
                                <div class="card-image" data-original-font-size="16" style="font-size: 16px;">
                                    <img src="assets/images/Component 33.png" alt="??????? ?????????">
                                </div>
                            </div>
                            
                            <!-- ????? ??????? ??????? -->
                            <div class="update-card" data-original-font-size="16" style="font-size: 16px; display: block;">
                                <div class="card-image" data-original-font-size="16" style="font-size: 16px;">
                                    <img src="assets/images/Component 33.png" alt="??????? ?????????">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ?????? ??????? -->
                    <div class="slider-controls">
                        <div class="slider-navigation">
                            <div class="updates-nav-dots" id="sliderDots" data-original-font-size="16" style="font-size: 16px;">
                                <span class="dot"></span>
                                <span class="dot"></span>
                                <span class="dot"></span>
                                <span class="dot active"></span>
                                <span class="dot"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- ????? ???? -->    
        <section class="contact-section" id="contact">
            <div class="contact-container">
                <h2 class="contact-title">????? ????</h2>
                
                <div class="contact-content">
                    <div class="map-container">
                        <div class="map-overlay">
                            <h2 class="map-title">????? ???????</h2>
                            <a href="https://maps.google.com/?q=24.7136,46.6753" target="_blank" class="map-directions">??? ????????? ??? ???????</a>
                        </div>
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3624.674457248269!2d46.63011271540214!3d24.713454784128518!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3e2ee3e0a9ec8f49%3A0x765429237f37278!2sRiyadh%20Saudi%20Arabia!5e0!3m2!1sen!2ssa!4v1653377670055!5m2!1sen!2ssa" allowfullscreen="" loading="lazy"></iframe>
                    </div>
                    
                    <div class="contact-info-card">
                        <div class="info-right">
                            <div class="info-section email-info">
                                <h3 class="info-title">?????? ??????????</h3>
                                <a href="mailto:contact@mohamoon.com" class="email-link">
                                    <span class="contact-email">contact@mohamoon.com</span>
                                    <img src="assets/icons/sms.svg" alt="email" />
                                </a>
                            </div>
                            
                            <div class="info-section contact-info">
                                <h3 class="info-title">??????? ???????</h3>
                                <a href="tel:+00966115620477" class="phone-link">
                                    <span class="contact-phone">+00966115620477</span>
                                    <img src="assets/icons/call.svg" alt="phone" />
                                </a>
                                <a href="https://wa.me/966555080349" class="whatsapp-link">
                                    <span class="contact-whatsapp">+00966555080349</span>
                                    <img src="assets/icons/whatsapp.svg" alt="whatsapp" />
                                </a>
                            </div>
                            
                            <div class="info-section">
                                <h3 class="follow-us-title">??????</h3>
                                <div class="social-links">
                                    <a href="https://twitter.com" target="_blank" class="social-link">
                                        <img src="assets/icons/X.svg" alt="X" />
                                    </a>
                                    <a href="https://instagram.com" target="_blank" class="social-link">
                                        <img src="assets/icons/IN.svg" alt="Instagram" />
                                    </a>
                                    <a href="https://linkedin.com" target="_blank" class="social-link">
                                        <img src="assets/icons/LN.svg" alt="LinkedIn" />
                                    </a>
                                    <a href="https://facebook.com" target="_blank" class="social-link">
                                        <img src="assets/icons/FB.svg" alt="facebook" />
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="info-left">
                            <div class="info-section">
                                <h3 class="info-title">???????</h3>
                                <p class="info-text">??????? ??????? ????????</p>
                                <p class="info-text">?????? - ????????</p>
                            </div>
                            
                            <div class="info-section">
                                <h3 class="info-title">????? ??????</h3>
                                <p class="info-text">?? ????? ??? ?????? ??</p>
                                <p class="info-text">?????? 08:00 ?????? -</p>
                                <p class="info-text">???? ?????? 5:00 ????</p>
                            </div>
                        </div>
                        
                    </div>
                </div>
                
                <div class="contact-footer"></div>
            </div>
        </section>
        <!-- ??? ????? ???? -->
        <section class="subscribe-section" id="subscribe">
            <div class="container">
                <div class="subscribe-box">
                    <div class="title-line"></div>
                    <h2 class="subscribe-title">?????? ?????</h2>
                    
                    <form class="subscribe-form">
                        <input type="text" class="form-input" placeholder="??? ????????">
                        <input type="email" class="form-input" placeholder="?????? ??????????">
                        <button type="submit" class="subscribe-btn">??????</button>
                    </form>
                    
                    <div class="register-text">
                        <span class="subscribe-question">?? ??? ????? ?????</span>
                        <a href="pages/subscribe.html" class="register-link">????? ????</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- ??? ??????? -->
        <section class="partners-section">
            <div class="partners-container">
                <div class="partners-title-container">
                    <h2 class="partners-title">???????</h2>
                </div>
                <div class="partners-content">
                    <button class="next-button">
                        <img src="assets/icons/next.svg" alt="??????">
                    </button>
                    <div class="partners-logos">
                        <div class="logos-slider">
                            <div class="partner-logo">
                                <img src="assets/clients/1.svg" alt="???? 1">
                            </div>
                            <div class="partner-logo">
                                <img src="assets/clients/2.svg" alt="???? 2">
                            </div>
                            <div class="partner-logo">
                                <img src="assets/clients/3.svg" alt="???? 3">
                            </div>
                            <div class="partner-logo">
                                <img src="assets/clients/4.svg" alt="???? 4">
                            </div>
                            <div class="partner-logo">
                                <img src="assets/clients/5.svg" alt="???? 5">
                            </div>
                            <div class="partner-logo">
                                <img src="assets/clients/6.svg" alt="???? 6">
                            </div>
                            <div class="partner-logo">
                                <img src="assets/clients/7.svg" alt="???? 7">
                            </div>
                            <div class="partner-logo">
                                <img src="assets/clients/8.svg" alt="???? 8">
                            </div>
                            <div class="partner-logo">
                                <img src="assets/clients/9.svg" alt="???? 9">
                            </div>
                            <div class="partner-logo">
                                <img src="assets/clients/10.svg" alt="???? 10">
                            </div>
                            <div class="partner-logo">
                                <img src="assets/clients/11.svg" alt="???? 11">
                            </div>
                            <!-- ???? ????? ???????? ????? -->
                            <div class="partner-logo">
                                <img src="assets/clients/1.svg" alt="???? 1">
                            </div>
                            <div class="partner-logo">
                                <img src="assets/clients/2.svg" alt="???? 2">
                            </div>
                            <div class="partner-logo">
                                <img src="assets/clients/3.svg" alt="???? 3">
                            </div>
                            <div class="partner-logo">
                                <img src="assets/clients/4.svg" alt="???? 4">
                            </div>
                            <div class="partner-logo">
                                <img src="assets/clients/5.svg" alt="???? 5">
                            </div>
                            <div class="partner-logo">
                                <img src="assets/clients/6.svg" alt="???? 6">
                            </div>
                            <div class="partner-logo">
                                <img src="assets/clients/7.svg" alt="???? 7">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="main-footer">
            <div class="footer-content">
                <!-- ?? ????? ??????? -->
                    <div class="footer-column about-column">
                    <h3 class="footer-title">?? ????? ???????</h3>
                        <p class="footer-text">
                            ??????? ????????? ??????? ????????<br>
                            ????????? ?????? ???????? ?? ???????<br>
                            ??????? ????????
                        </p>
                    </div>

                    <!-- ????? ????? -->
                    <div class="footer-column links-column">
                        <h3 class="footer-title">????? ?????</h3>
                        <ul class="footer-links">
                        <li><a href="index.html">????????</a></li>
                        <li><a href="pages/about-site.html">?? ??????</a></li>
                        <li><a href="pages/faq.html">??????? ???????</a></li>
                        </ul>
                    </div>

                    <!-- ????? ???? -->
                    <div class="footer-column contact-column">
                        <h3 class="footer-title">????? ????</h3>
                        <p class="contact-item">info@mohamoon-ksa.com</p>
                    <p class="contact-item">??????: xxx xxxx 11 966+</p>
                        <p class="contact-item">???????: ??????? ??????? ??????? ????????</p>
                    </div>

                    <!-- ??????? ????????? -->
                    <div class="footer-column social-column">
                    <h3 class="social-title">??????</h3>
                        <div class="social-icons">
                        <a href="https://facebook.com" target="_blank" class="social-icon">
                            <img src="assets/icons/FB.svg" alt="facebook">
                            </a>
                        <a href="https://instagram.com" target="_blank" class="social-icon">
                            <img src="assets/icons/IN.svg" alt="instagram">
                            </a>
                        <a href="https://twitter.com" target="_blank" class="social-icon">
                            <img src="assets/icons/X.svg" alt="twitter">
                            </a>
                        <a href="https://linkedin.com" target="_blank" class="social-icon">
                            <img src="assets/icons/LN.svg" alt="linkedin">
                            </a>
                        </div>
                        <div class="contact-btn-container">
                        <a href="#contact" class="contact-btn">
                            ???? ???
                            <img src="assets/icons/call2.png" alt="????" class="contact-btn-icon">
                        </a>
                    </div>
                </div>
            </div>

            <div class="copyright">
                    <div class="copyright-content">
                        <div class="copyright-row">
                        <p class="copyright-text">???? ?????? ??????  2024 ????? ???????</p>
                        </div>
                        <div class="copyright-row">
                        <div class="policy-links">
                            <a href="pages/terms.html">?????? ????????</a>
                            <span class="separator">|</span>
                            <a href="pages/privacy-policy.html">????? ????????</a>
                        </div>
                    </div>
                </div>
            </div>
        </footer>

        <!-- JavaScript Files -->
        
        <script src="scripts/slider.js"></script>
        
        
        <script src="scripts/services-menu.js"></script>
        <script src="scripts/services-slider.js"></script>
        <script src="scripts/partners-slider.js"></script>
        
        
        
        
    <!-- ??????? ???????? ?????? ?????????? ??? ?????? -->

    <!-- ??????? ??????? ?????? ???????? ?????? ???????? ?????? auth-system.js -->

    <!-- ??? ???????? ???? ?????? ??? ?? ?? ???? -->
    <script src="scripts/updates-slider.js"></script>
    <!-- ?????? ??????? ???????? ?? ??? ???????? -->
    

    <script>
        // ??? ????? ?????? ??????? ???????? ?? ??????? ????????
        document.addEventListener('DOMContentLoaded', function() {
            console.log('????? ??????? ????????');
            
            // ?????? ??? ????? ???????
            var aboutToggle = document.getElementById('about-toggle');
            var aboutSubmenu = document.getElementById('about-submenu');
            var policiesToggle = document.getElementById('policies-toggle');
            var policiesSubmenu = document.getElementById('policies-submenu');
            
            console.log('????? ???? ???:', aboutToggle, aboutSubmenu);
            console.log('????? ???????:', policiesToggle, policiesSubmenu);
            
            // ????? ????? ???? ???
            if (aboutToggle && aboutSubmenu) {
                aboutSubmenu.style.display = 'none';
                
                aboutToggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    if (aboutSubmenu.style.display === 'none' || aboutSubmenu.style.display === '') {
                        aboutSubmenu.style.display = 'block';
                        // ????? ??????? ?????? ??? ???? ??????
                        if (policiesSubmenu) policiesSubmenu.style.display = 'none';
                    } else {
                        aboutSubmenu.style.display = 'none';
                    }
                });
            }
            
            // ????? ????? ???????
            if (policiesToggle && policiesSubmenu) {
                policiesSubmenu.style.display = 'none';
                
                policiesToggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('?? ????? ??? ???????');
                    if (policiesSubmenu.style.display === 'none' || policiesSubmenu.style.display === '') {
                        policiesSubmenu.style.display = 'block';
                        // ????? ??????? ?????? ??? ???? ??????
                        if (aboutSubmenu) aboutSubmenu.style.display = 'none';
                    } else {
                        policiesSubmenu.style.display = 'none';
                    }
                });
            }
            
            // ????? ????? ??? ??? ??????? ?????? ??????? ??? ????? ??????
            document.addEventListener('click', function(e) {
                // ??? ??? ????? ???? ??????? ????????
                if (aboutSubmenu && !aboutSubmenu.contains(e.target) && aboutToggle && !aboutToggle.contains(e.target)) {
                    aboutSubmenu.style.display = 'none';
                }
                
                if (policiesSubmenu && !policiesSubmenu.contains(e.target) && policiesToggle && !policiesToggle.contains(e.target)) {
                    policiesSubmenu.style.display = 'none';
                }
            });
            
            // ????? ????? CSS ????? ?????? ?? ?? ??????? ???? ???? ????
            var style = document.createElement('style');
            style.textContent = `
                .submenu-container {
                    display: none;
                    position: relative;
                    z-index: 10;
                }
                .submenu-container.show {
                    display: block !important;
                }
                #policies-submenu {
                    display: none;
                    z-index: 20;
                }
                #about-submenu {
                    display: none;
                    z-index: 20;
                }
            `;
            document.head.appendChild(style);
        });
        
        // ????? ?? ??????? ??????
        document.addEventListener('DOMContentLoaded', function() {
            console.log('?? ????? ?? ??????? ??????');
            
            // ???? ????? ??????? ??????
            function applyDarkContrast() {
                console.log('? ????? ??????? ??????');
                document.body.classList.add('dark-contrast');
                localStorage.setItem('darkContrast', 'true');
                
                // ????? ????????? ?????? ???????
                swapIconsToBlack();
            }
            
            // ???? ????? ??????? ??????
            function removeDarkContrast() {
                console.log('? ????? ??????? ??????');
                document.body.classList.remove('dark-contrast');
                localStorage.setItem('darkContrast', 'false');
                
                // ????? ????????? ?????? ???????
                restoreOriginalIcons();
            }
            
            // ???? ????? ?????????
            function swapIconsToBlack() {
                console.log('?? ????? ????????? ?????? ???????');
                
                // ????? ?????? ?????
                const arrowIcons = document.querySelectorAll('img[src*="services-arrow.svg"], .arrow-icon');
                arrowIcons.forEach(icon => {
                    if (icon.src && icon.src.includes('services-arrow.svg')) {
                        icon.setAttribute('data-original-src', icon.src);
                        icon.src = icon.src.replace('services-arrow.svg', 'arrow-black.svg');
                    }
                });
                
                // ????? ?????? ?????
                const supportIcons = document.querySelectorAll('img[src*="support.svg"], img[src*="support.png"]');
                supportIcons.forEach(icon => {
                    if (icon.src && (icon.src.includes('support.svg') || icon.src.includes('support.png'))) {
                        icon.setAttribute('data-original-src', icon.src);
                        icon.src = icon.src.replace(/support\.(svg|png)/, 'support-black.svg');
                    }
                });
                
                console.log('? ?? ????? ????????? ?????');
            }
            
            function restoreOriginalIcons() {
                console.log('?? ????? ????????? ?????? ???????');
                
                // ????? ???? ????????? ???? ?? ???????
                const changedIcons = document.querySelectorAll('img[data-original-src]');
                changedIcons.forEach(icon => {
                    const originalSrc = icon.getAttribute('data-original-src');
                    if (originalSrc) {
                        icon.src = originalSrc;
                        icon.removeAttribute('data-original-src');
                    }
                });
                
                console.log('? ?? ????? ????????? ??????? ?????');
            }
            
            // ??????? ?????? ????????
            if (localStorage.getItem('darkContrast') === 'true') {
                applyDarkContrast();
            }
            
            // ??? ???????
            function setupContrastButtons() {
                // ?? ??????? ??????
                const darkContrastBtns = document.querySelectorAll('.contrast-dark');
                darkContrastBtns.forEach(btn => {
                    if (!btn.hasAttribute('data-contrast-setup')) {
                        btn.addEventListener('click', function(e) {
                            e.preventDefault();
                            console.log('?? ?? ????? ??? ?? ??????? ??????');
                            applyDarkContrast();
                        });
                        btn.setAttribute('data-contrast-setup', 'true');
                    }
                });
                
                // ?? ??????? ??????
                const lightContrastBtns = document.querySelectorAll('.contrast-light');
                lightContrastBtns.forEach(btn => {
                    if (!btn.hasAttribute('data-contrast-setup')) {
                        btn.addEventListener('click', function(e) {
                            e.preventDefault();
                            console.log('?? ?? ????? ??? ?? ??????? ??????');
                            removeDarkContrast();
                        });
                        btn.setAttribute('data-contrast-setup', 'true');
                    }
                });
            }
            
            // ????? ???????
            setTimeout(setupContrastButtons, 500);
            
            // ????? ????? ??????? ??? ??????
            let retryCount = 0;
            const retryInterval = setInterval(() => {
                setupContrastButtons();
                retryCount++;
                
                if (retryCount >= 5) {
                    clearInterval(retryInterval);
                }
            }, 1000);
        });
    </script>



    <!-- ??? ??? ????? ??? ??????? ?? ??? ??????? ?????? -->
    
    <!-- ?????? ????? ??????? ???? ??????? -->
    <script src="scripts/link-fixer.js"></script>

    <!-- ?????? ????? ??????? -->
    <div class="support-icon-fixed">
        <img src="assets/icons/support.svg" alt="????? ?????????">
    </div>


    <script src="scripts/main.js"></script>
    <script src="scripts/modal-manager.js"></script>

<script src="scripts/search-popup.js"></script>
    <script src="scripts/unified-icons.js"></script>
    <script src="scripts/services-darkmode-fix.js"></script>
    <script src="scripts/login-modal.js"></script>
    <script src="scripts/unified-navbar.js"></script>




    <script>
        // ?????? ?????? ???? ?????? auth-system.js ? modal-manager.js
    </script>

<!--                         
                        <form id="asanidContactForm" style="
                            display: grid;
                            grid-template-columns: 1fr;
                            gap: 10px;
                        ">
                            ????? ???????
                            <div style="padding: 0 !important;">
                                <input type="text" id="fullName" placeholder="????? ???????" style="
                                    width: 100%;
                                    height: 45px;
                                    border-radius: 10px;
                                    border: 1px solid #e0e0e0;
                                    padding: 0 15px;
                                    text-align: right;
                                    font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                    font-size: 14px;
                                    box-sizing: border-box;
                                    background-color: #f8f9fa;
                                    margin: 0 !important;
                                ">
                            </div>
                            
                            ??? ????????
                            <div style="padding: 0 !important;">
                                <input type="text" id="username" placeholder="??? ????????" style="
                                    width: 100%;
                                    height: 45px;
                                    border-radius: 10px;
                                    border: 1px solid #e0e0e0;
                                    padding: 0 15px;
                                    text-align: right;
                                    font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                    font-size: 14px;
                                    box-sizing: border-box;
                                    background-color: #f8f9fa;
                                    margin: 0 !important;
                                ">
                            </div>
                            
                            ?????? ??????????
                            <div style="padding: 0 !important;">
                                <input type="email" id="email" placeholder="?????? ??????????" style="
                                    width: 100%;
                                    height: 45px;
                                    border-radius: 10px;
                                    border: 1px solid #e0e0e0;
                                    padding: 0 15px;
                                    text-align: right;
                                    font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                    font-size: 14px;
                                    box-sizing: border-box;
                                    background-color: #f8f9fa;
                                    margin: 0 !important;
                                ">
                            </div>
                            
                            ?? ??? ?????? ??????????
                            <div style="padding: 0 !important;">
                                <p style="
                                    font-family: Droid Arabic Kufi;
                                    font-weight: 400;
                                    font-size: 6.13px;
                                    line-height: 150%;
                                    letter-spacing: 0%;
                                    text-align: right;
                                    color: black;
                                    margin: 0 !important;
                                "><span style="color: #FF5959;">*</span>???? ??????? ???? ?? ???? ?????? ??????????</p>
                            </div>
                            
                            ??? ?????? ?? ??? ??????
                            <div style="padding: 0 !important; display: flex; gap: 10px;">
                                <input type="tel" id="phone" placeholder="??? ??????" style="
                                    flex: 1;
                                    height: 45px;
                                    border-radius: 10px;
                                    border: 1px solid #e0e0e0;
                                    padding: 0 15px;
                                    text-align: right;
                                    font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                    font-size: 14px;
                                    box-sizing: border-box;
                                    background-color: #f8f9fa;
                                    margin: 0 !important;
                                ">
                                <div style="
                                    width: 80px;
                                    height: 45px;
                                    border-radius: 10px;
                                    border: 1px solid #e0e0e0;
                                    display: flex;
                                    align-items: center;
                                    justify-content: center;
                                    background-color: #f8f9fa;
                                    gap: 5px;
                                ">
                                    <img src="assets/icons/egypt-flag.svg" alt="Egypt Flag" style="width: 20px; height: 14px;">
                                    <span style="font-family: 'Droid Arabic Kufi', Arial, sans-serif; font-size: 12px; color: #666;">+20</span>
                                </div>
                            </div>
                            
                            ???????
                            <div style="padding: 0 !important;">
                                <textarea id="subject" placeholder="???????" style="
                                    width: 100%;
                                    height: 120px;
                                    border-radius: 10px;
                                    border: 1px solid #e0e0e0;
                                    padding: 15px;
                                    text-align: right;
                                    font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                    font-size: 14px;
                                    box-sizing: border-box;
                                    background-color: #f8f9fa;
                                    resize: vertical;
                                    min-height: 120px;
                                    margin: 0 !important;
                                "></textarea>
                            </div>
                            
                            ???? ????????
                            <div style="padding: 0 !important; text-align: right;">
                                <h4 style="
                                    font-family: Droid Arabic Kufi;
                                    font-weight: 400;
                                    font-size: 8.57px;
                                    line-height: 150%;
                                    letter-spacing: 0%;
                                    text-align: right;
                                    color: #00a19a;
                                    margin: 0 0 5px 0 !important;
                                ">?????? ??????:</h4>
                                <p style="
                                    font-family: Droid Arabic Kufi;
                                    font-weight: 400;
                                    font-size: 7.35px;
                                    line-height: 150%;
                                    letter-spacing: 0%;
                                    text-align: right;
                                    color: #666;
                                    margin: 0 !important;
                                ">???? ??? ??? ??? ????? ???????? ???????? ?? ???? ??? ???? ?????? ???????? ??? ??? ?????? ??????????</p>
                            </div>
                            
                            ?? ???????
                            <button type="button" id="submitAsanidForm" style="
                                width: 100%;
                                height: 45px;
                                background-color: #00a19a;
                                color: white;
                                border: none;
                                border-radius: 10px;
                                font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                font-size: 16px;
                                font-weight: bold;
                                cursor: pointer;
                                transition: background-color 0.3s ease;
                                margin: 0 !important;
                            ">?????</button>
                        </form>
                    </div>
                </div>
            `; -->

        <!-- } -->
    </script>

    <!-- ??? JavaScript ?????? ????? ????? ???? ?????? - ???? ??????? -->
    
 
    
    <!-- ????? ????? ?????? ???????? -->
    <div class="login-modal" id="login-modal" style="display: none;">
        <div class="login-modal-content">
            <div class="login-modal-header">
                <span class="close-modal">&times;</span>
                            </div>
            <div class="login-modal-body">
                <h2 class="login-title">?????? ??????</h2>
                
                <div class="phone-login-section">
                    <div class="phone-input-row">
                                            <div class="country-code-select">
                        <div class="country-flag">
                            <img src="assets/icons/egypt-flag.svg" alt="???" class="flag-img">
                        </div>
                        <img src="assets/icons/call-arrow.svg" alt="Arrow" class="arrow-icon">
                        <span class="code">+20</span>
                    </div>
                        <div class="phone-field">
                            <input type="tel" placeholder="??? ??????" class="login-input">
                </div>
                    </div>
                    
                    <button class="send-code-btn">???? ??? ??????</button>
                    <p class="error-msg">??? ????? ??? ??????</p>
                </div>
                
                <div class="separator">
                    <span>?? ????? ????? ?????? ???? ???????? ????? ??????</span>
                </div>
                
                <div class="credentials-login-section">
                    <input type="text" placeholder="??? ????????" class="login-input">
                    <div class="password-field">
                        <input type="password" placeholder="???? ??????" class="login-input">
                        <button class="toggle-password">
                            <img src="assets/icons/eye.png" alt="?????" class="eye-icon">
                        </button>
                    </div>
                    <button class="login-submit-btn">????</button>
                    <a href="#" class="forgot-password">?? ???? ???? ?????</a>
                </div>
                
                <div class="help-section">
                    <a href="#" class="help-btn customer-service">
                        <span>???? ???????</span>
                        <img src="assets/icons/support.png" alt="????" class="help-icon">
                    </a>
                    <a href="#" class="help-btn self-help">
                    <span>???????? ???????</span>
                        <img src="assets/icons/message-search.png" alt="??????" class="help-icon">
                </a>
            </div>
        </div>
    </div>
    </div>

    <!-- ??? JavaScript ?????? ????? ????? ?????? - ???? ??????? -->
    <script src="scripts/login-modal-fix.js"></script>

        <!-- ????? ????? ???? ?????? -->
    <div id="password-change-modal" style="
        display: none;
        position: fixed;
        z-index: 99999;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        direction: rtl;
        overflow: auto;
        padding-top: 60px;
    ">
        <div style="
            background-color: white;
            margin: 20px auto;
            width: calc(100% - 40px);
            max-width: 600px;
            border-radius: 20px;
            padding: 25px;
            position: relative;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            margin-bottom: 40px;
        ">
            <span onclick="closePasswordModal()" style="
                position: absolute;
                left: 15px;
                top: 10px;
                font-size: 28px;
                font-weight: bold;
                cursor: pointer;
                color: #aaa;
                line-height: 1;
            ">&times;</span>
            
            <h2 style="
                font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                font-weight: 700;
                font-size: 21.99px;
                line-height: 150%;
                letter-spacing: 0%;
                text-align: center;
                color: #00a19a;
                margin: 0 0 20px 0;
                padding: 0 30px 0 0;
            ">????? ???? ??????</h2>
            
            <form onsubmit="handlePasswordSubmit(event)" style="
                display: flex;
                flex-direction: column;
                gap: 10px;
            ">
                <!-- ???? ?????? ??????? -->
                <div style="padding: 0; margin: 0 0 10px 0;">
                    <input type="password" id="currentPassword" placeholder="???? ?????? ???????" style="
                        width: 100%;
                        height: 50px;
                        border-radius: 10px;
                        border: 1px solid #e0e0e0;
                        padding: 0 15px;
                        text-align: right;
                        font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                        font-size: 16px;
                        box-sizing: border-box;
                        background-color: #f8f9fa;
                        margin: 0;
                    " required>
                </div>
                
                <!-- ???? ?????? ??????? -->
                <div style="padding: 0; margin: 0 0 10px 0;">
                    <input type="password" id="newPassword" placeholder="???? ?????? ???????" style="
                        width: 100%;
                        height: 50px;
                        border-radius: 10px;
                        border: 1px solid #e0e0e0;
                        padding: 0 15px;
                        text-align: right;
                        font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                        font-size: 16px;
                        box-sizing: border-box;
                        background-color: #f8f9fa;
                        margin: 0;
                    " required>
                </div>
                
                <!-- ????? ???? ?????? ??????? -->
                <div style="padding: 0; margin: 0 0 10px 0;">
                    <input type="password" id="confirmPassword" placeholder="????? ???? ?????? ???????" style="
                        width: 100%;
                        height: 50px;
                        border-radius: 10px;
                        border: 1px solid #e0e0e0;
                        padding: 0 15px;
                        text-align: right;
                        font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                        font-size: 16px;
                        box-sizing: border-box;
                        background-color: #f8f9fa;
                        margin: 0;
                    " required>
                </div>
                
                <!-- ?? ??????? -->
                <button type="submit" id="submitPasswordChange" style="
                    width: 100%;
                    height: 50px;
                    background-color: #00a19a;
                    color: white;
                    border: none;
                    border-radius: 10px;
                    font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                    font-size: 18px;
                    font-weight: bold;
                    cursor: pointer;
                    transition: background-color 0.3s ease;
                    margin: 15px 0 0 0;
                ">????</button>
            </form>
        </div>
    </div>

    <!-- ??? ??? ???? ?? profile-password-btn ?????? ??????? ???? ?????? -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('?? ????? ?? profile-password-btn ???? ????? ??????? ???? ??????');
            
            // ???? ??? ????? ??????? ???? ??????
            function showForgotPasswordModal() {
                console.log('?? ??? ????? ??????? ???? ??????');
                const forgotModal = document.getElementById('forgot-password-modal');
                if (forgotModal) {
                    // ????? ???? ??????? ?????? ?????
                    const allModals = document.querySelectorAll('.modal, [id*="modal"], [class*="modal"]');
                    allModals.forEach(modal => {
                        if (modal.style && modal.id !== 'forgot-password-modal') {
                            modal.style.display = 'none';
                        }
                    });
                    
                    // ????? ????? ??????? ???? ??????
                    forgotModal.style.display = 'flex';
                    forgotModal.style.alignItems = 'center';
                    forgotModal.style.justifyContent = 'center';
                    forgotModal.style.position = 'fixed';
                    forgotModal.style.zIndex = '99999';
                    forgotModal.style.left = '0';
                    forgotModal.style.top = '0';
                    forgotModal.style.width = '100%';
                    forgotModal.style.height = '100%';
                    forgotModal.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
                    
                    document.body.style.overflow = 'hidden';
                    
                    // ????? ??? ??? ??? ????????
                    setTimeout(() => {
                        const usernameInput = forgotModal.querySelector('.forgot-password-input');
                        if (usernameInput) {
                            usernameInput.focus();
                        }
                    }, 100);
                    
                    console.log('? ?? ??? ????? ??????? ???? ?????? ?????');
                } else {
                    console.error('? ?? ??? ?????? ??? ????? ??????? ???? ??????');
                }
            }
            
            // ???? ????? ?? ???? ?????? ???? ????? ?????????
            function setupForgotPasswordButton() {
                // ????? ?? ???? ??????
                const profilePasswordBtn = document.querySelector('.profile-password-btn');
                
                if (profilePasswordBtn && !profilePasswordBtn.hasAttribute('data-forgot-bound')) {
                    console.log('?? ?? ?????? ??? ?? profile-password-btn - ???? ???? ?????? ?????????');
                    
                    // ????? ???? ??????? ???????
                    const newBtn = profilePasswordBtn.cloneNode(true);
                    profilePasswordBtn.parentNode.replaceChild(newBtn, profilePasswordBtn);
                    
                    // ????? ?? attributes ?????
                    newBtn.removeAttribute('onclick');
                    newBtn.removeAttribute('href');
                    newBtn.style.cursor = 'pointer';
                    
                    // ????? event listener ????
                    newBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        e.stopImmediatePropagation();
                        
                        console.log('?? ?? ????? ??? ?? profile-password-btn - ??? ????? ??????? ???? ??????');
                        showForgotPasswordModal();
                        
                        return false;
                    }, true);
                    
                    newBtn.setAttribute('data-forgot-bound', 'true');
                    console.log('? ?? ??? ???? ?????? ??????? ???? ?????? ?????');
                }
            }
            
            // ????? ????? ??????? ?????? ??????? ???? ??????
            function setupForgotPasswordModal() {
                const forgotModal = document.getElementById('forgot-password-modal');
                if (!forgotModal) return;
                
                // ????? ??? ????? ???? ???????
                forgotModal.addEventListener('click', function(e) {
                    if (e.target === forgotModal) {
                        forgotModal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    }
                });
                
                // ?? ??????? X
                const closeBtn = forgotModal.querySelector('.close-forgot-modal');
                if (closeBtn && !closeBtn.hasAttribute('data-close-setup')) {
                    closeBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        console.log('?? ????? ??? ?? ????? ????? ??????? ???? ??????');
                        forgotModal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    });
                    closeBtn.setAttribute('data-close-setup', 'true');
                }
                
                // ?? ???????
                const submitBtn = forgotModal.querySelector('.forgot-password-submit-btn');
                if (submitBtn && !submitBtn.hasAttribute('data-forgot-setup')) {
                    submitBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        const usernameInput = forgotModal.querySelector('.forgot-password-input');
                        
                        if (!usernameInput || usernameInput.value.trim() === '') {
                            alert('???? ????? ??? ????????');
                            return;
                        }
                        
                        console.log('?? ????? ??? ??????? ???? ?????? ??:', usernameInput.value);
                        
                        // ????? ????
                        const originalText = submitBtn.textContent;
                        submitBtn.textContent = '???? ???????...';
                        submitBtn.disabled = true;
                        
                        // ?????? ???????
                        setTimeout(() => {
                            alert('?? ????? ???? ??????? ???? ?????? ??? ????? ??????????');
                            forgotModal.style.display = 'none';
                            document.body.style.overflow = 'auto';
                            
                            // ??? ?????
                            if (usernameInput) usernameInput.value = '';
                            
                            // ????? ????? ????
                            submitBtn.textContent = originalText;
                            submitBtn.disabled = false;
                        }, 1500);
                    });
                    submitBtn.setAttribute('data-forgot-setup', 'true');
                }
            }
            
            // ????? ??????? ??? Escape
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    const forgotModal = document.getElementById('forgot-password-modal');
                    if (forgotModal && (forgotModal.style.display === 'flex' || forgotModal.style.display === 'block')) {
                        forgotModal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    }
                }
            });
            
            // ????? ???????
            setTimeout(() => {
                setupForgotPasswordModal();
                setupForgotPasswordButton();
            }, 500);
            
            // ??? ???? ???? ??????
            let searchCount = 0;
            const searchInterval = setInterval(() => {
                setupForgotPasswordButton();
                searchCount++;
                
                if (searchCount >= 10) {
                    clearInterval(searchInterval);
                    console.log('?? ????? ????? ?????? ?? ?? profile-password-btn');
                }
            }, 1000);
            
            // ????? ??????? ??? ??? ????? ??????
            document.addEventListener('click', function(e) {
                const target = e.target;
                const text = target.textContent || '';
                
                if (text.includes('????? ??????') || 
                    text.includes('profile') || 
                    text.includes('????? ??????')) {
                    setTimeout(() => {
                        setupForgotPasswordButton();
                        setupForgotPasswordModal();
                    }, 300);
                }
            });
        });
    </script>

    <!-- ??? ????? ???? "?? ???? ???? ????" ?? ????? ????? ?????? -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('?? ????? ???? "?? ???? ???? ????"');
            
            // ???? ??? ????? ??????? ???? ?????? ?? ????? ????? ??????
            function openForgotPasswordFromLogin() {
                console.log('?? ??? ????? ??????? ???? ?????? ?? ????? ??????');
                
                // ????? ????? ????? ?????? ?????
                const loginModal = document.getElementById('login-modal');
                if (loginModal) {
                    loginModal.style.display = 'none';
                }
                
                // ????? ????? ??????? ???? ??????
                const forgotModal = document.getElementById('forgot-password-modal');
                if (forgotModal) {
                    forgotModal.style.display = 'flex';
                    forgotModal.style.alignItems = 'center';
                    forgotModal.style.justifyContent = 'center';
                    forgotModal.style.position = 'fixed';
                    forgotModal.style.zIndex = '99999';
                    forgotModal.style.left = '0';
                    forgotModal.style.top = '0';
                    forgotModal.style.width = '100%';
                    forgotModal.style.height = '100%';
                    forgotModal.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
                    
                    document.body.style.overflow = 'hidden';
                    
                    // ????? ??? ??? ??? ????????
                    setTimeout(() => {
                        const usernameInput = forgotModal.querySelector('.forgot-password-input');
                        if (usernameInput) {
                            usernameInput.focus();
                        }
                    }, 100);
                    
                    console.log('? ?? ??? ????? ??????? ???? ?????? ?? ????? ?????? ?????');
                } else {
                    console.error('? ?? ??? ?????? ??? ????? ??????? ???? ??????');
                }
            }
            
            // ???? ??? ???? "?? ???? ???? ????"
            function setupForgotPasswordLink() {
                const forgotLink = document.querySelector('.forgot-password');
                
                if (forgotLink && !forgotLink.hasAttribute('data-forgot-link-setup')) {
                    console.log('?? ??? ???? "?? ???? ???? ????"');
                    
                    // ????? ???? ??????? ???????
                    const newLink = forgotLink.cloneNode(true);
                    forgotLink.parentNode.replaceChild(newLink, forgotLink);
                    
                    // ????? ?? attributes ?????
                    newLink.removeAttribute('href');
                    newLink.removeAttribute('onclick');
                    newLink.style.cursor = 'pointer';
                    
                    // ????? event listener ????
                    newLink.addEventListener('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        e.stopImmediatePropagation();
                        
                        console.log('?? ?? ????? ??? "?? ???? ???? ????" - ??? ????? ?????????');
                        openForgotPasswordFromLogin();
                        
                        return false;
                    }, true);
                    
                    newLink.setAttribute('data-forgot-link-setup', 'true');
                    console.log('? ?? ??? ???? "?? ???? ???? ????" ?????');
                }
            }
            
            // ????? ???????
            setTimeout(() => {
                setupForgotPasswordLink();
            }, 500);
            
            // ??? ???? ??????
            let searchCount = 0;
            const searchInterval = setInterval(() => {
                setupForgotPasswordLink();
                searchCount++;
                
                if (searchCount >= 10) {
                    clearInterval(searchInterval);
                    console.log('?? ????? ????? ?????? ?? ???? "?? ???? ???? ????"');
                }
            }, 1000);
            
            // ????? ??????? ??? ??? ????? ????? ??????
            document.addEventListener('click', function(e) {
                const target = e.target;
                const text = target.textContent || '';
                
                if (text.includes('????? ??????') || text.includes('????')) {
                    setTimeout(() => {
                        setupForgotPasswordLink();
                    }, 300);
                }
            });
        });
    </script>

    <!-- ????? ???? ???????? - ?? ???? ??? ?????? ??? ??????? -->
    
    <!-- ????? ????? ????? ????? ?????? -->
    <script>
        // ????? ????? ????? ????? ?????? ????? ??? ???? ???????
        document.addEventListener('DOMContentLoaded', function() {
            function setupDashboardButtons() {
                const userDashboard = document.getElementById('user-dashboard-modal');
                if (!userDashboard) return;

                console.log('????? ????? ????? ????? ??????');

                // ?? ??? ???? ???????? - ?? ??? ???? ??????? ??????
                const asanidBtn = userDashboard.querySelector('a[href*="asanid-service"]');
                if (asanidBtn && !asanidBtn.hasAttribute('data-setup')) {
                    // ????? ???? event listeners ????????
                    const newAsanidBtn = asanidBtn.cloneNode(true);
                    asanidBtn.parentNode.replaceChild(newAsanidBtn, asanidBtn);
                    
                    // ????? ?????? href ???? ???????? ??????
                    newAsanidBtn.removeAttribute('href');
                    newAsanidBtn.style.cursor = 'pointer';
                    
                    // ??? ?? ????? ???? ?? ????? event listeners
                    newAsanidBtn.setAttribute('data-listener-added', 'true');
                    newAsanidBtn.setAttribute('data-demo-listener', 'true');
                    newAsanidBtn.setAttribute('data-auth-listener', 'true');
                    
                    newAsanidBtn.addEventListener('click', function(e) {
                        console.log('?? ????? ??? ?? ??? ???? ???????? - ????? ????');
                        
                        // ??? ???? ??????? ??????
                        e.preventDefault();
                        e.stopPropagation();
                        e.stopImmediatePropagation();
                        
                        console.log('??? ????? ???? ???????? ????????? ?? ???? ???????');
                        
                        // ????? ????? ????? ?????? ?????
                        userDashboard.style.display = 'none';
                        
                        // ?????? ?? ????? ?? ????? ???? ?? ???? ??????
                        const existingModals = document.querySelectorAll('#asanid-form-modal, #subscribe-modal');
                        existingModals.forEach(modal => modal.remove());
                        
                        // ??? ????? ??? ???? ???????? ???????
                        showAsanidServicePopup();
                        
                        return false;
                    }, true); // ??????? capture mode ?????? ??? ????????
                    
                    // ????? ??? ????? ????? ??? ????????
                    newAsanidBtn.addEventListener('mousedown', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        e.stopImmediatePropagation();
                    }, true);
                    
                    // ??? ????? ?? event listeners ????? ?? ????? ????
                    const originalAddEventListener = newAsanidBtn.addEventListener;
                    newAsanidBtn.addEventListener = function(type, listener, options) {
                        if (type === 'click' && !listener.toString().includes('???? ???????? ?????????')) {
                            console.log('?? ??? ????? event listener ?? ??? ???');
                            return;
                        }
                        return originalAddEventListener.call(this, type, listener, options);
                    };
                    
                    newAsanidBtn.setAttribute('data-setup', 'true');
                }

                // ???? ????? index.html (???????? ???????? ??? ???????? ???? ???????)
                const indexBtns = userDashboard.querySelectorAll('a[href*="index.html"]:not(.logout-btn)');
                indexBtns.forEach(btn => {
                    if (!btn.hasAttribute('data-setup')) {
                        btn.addEventListener('click', function(e) {
                            e.preventDefault();
                            const img = btn.querySelector('img');
                            const span = btn.querySelector('span');
                            let buttonName = '??? ????';
                            
                            if (img && img.alt) {
                                buttonName = img.alt;
                            } else if (span) {
                                buttonName = span.textContent;
                            }
                            
                            console.log('?? ????? ??? ??: ' + buttonName);
                            
                            // ????? ??????? ??? ???? ?? ????????
                            if (buttonName.includes('???????? ???????')) {
                                console.log('???? ???????? ???????');
                            } else if (buttonName.includes('??? ???????')) {
                                // ??????? ??????? ??????? ?? auth-system.js
                                console.log('??? ????? ????? ???????? ???????');
                                if (typeof AuthSystem !== 'undefined' && AuthSystem.showProfileEditModal) {
                                    AuthSystem.showProfileEditModal();
                                } else {
                                    console.error('?? ??? ?????? ??? ???? ???????? ?? ???? ????? ????????');
                                }
                            } else if (buttonName.includes('???? ???????')) {
                                console.log('???? ???? ???????');
                            } else {
                                console.log('???? ' + buttonName);
                            }
                        });
                        btn.setAttribute('data-setup', 'true');
                    }
                });

                // ?? ????? ??????
                const logoutBtn = userDashboard.querySelector('.logout-btn');
                if (logoutBtn && !logoutBtn.hasAttribute('data-setup')) {
                    logoutBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        console.log('?? ????? ??? ?? ????? ??????');
                        
                        // ????? ????? ??????
                        if (confirm('?? ??? ????? ?? ????? ?? ????? ???????')) {
                            // ????? ???????
                            userDashboard.style.display = 'none';
                            userDashboard.classList.remove('show');
                            
                            // ????? ?????? ????? ??????
                            const profileIcon = document.querySelector('.profile-icon-btn');
                            if (profileIcon) {
                                profileIcon.remove();
                            }
                            
                            // ????? ?? ????? ??????
                            const loginBtn = document.querySelector('.login-btn');
                            if (loginBtn) {
                                loginBtn.style.display = 'block';
                            }
                            
                            // ??? ?????? ????? ??????
                            localStorage.removeItem('currentUser');
                            localStorage.removeItem('userLoggedIn');
                            localStorage.removeItem('userLoginTime');
                            
                            console.log('?? ????? ?????? ?????');
                        }
                    });
                    logoutBtn.setAttribute('data-setup', 'true');
                }
            }

            // ????? ??????? ??? ????? ??????
            setupDashboardButtons();

            // ????? ??????? ??? ??? ???????
            const profileBtns = document.querySelectorAll('.profile-icon-btn, #mobile-profile-btn');
            profileBtns.forEach(btn => {
                if (btn) {
                    btn.addEventListener('click', function() {
                        setTimeout(() => {
                            setupDashboardButtons();
                        }, 100);
                    });
                }
            });

            // ?????? ???? ??????? ?????? ???????
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.type === 'attributes' && mutation.attributeName === 'style') {
                        const target = mutation.target;
                        if (target.id === 'user-dashboard-modal' && target.style.display === 'block') {
                            setTimeout(() => {
                                setupDashboardButtons();
                            }, 50);
                        }
                    }
                });
            });

            const userDashboard = document.getElementById('user-dashboard-modal');
            if (userDashboard) {
                observer.observe(userDashboard, { attributes: true });
            }

            // ??????? ??????? ?????? ???????? ???? ??????? ?????? auth-system.js
        });
    </script>
    
    <!-- ?????? ?? ????? ?????? ??????? - ???? ???? ????? ?? ???? ??????? -->
    <script src="scripts/profile-button.js"></script>
    
    <!-- ???? ?????????? -->
    <script src="scripts/slider.js"></script>
    <script src="scripts/services-menu.js"></script>
    <script src="scripts/services-slider.js"></script>
    <script src="scripts/partners-slider.js"></script>
    <script src="scripts/updates-slider.js"></script>
    <script src="scripts/link-fixer.js"></script>
    <script src="scripts/main.js"></script>
    <script src="scripts/search-popup.js"></script>
    <script src="scripts/services-darkmode-fix.js"></script>
    <script src="scripts/password-change-modal.js"></script>

    <script src="scripts/login-modal.js"></script>

    <!-- ??? ?????? ????? ????????? -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('?? ??? ?????? ????? ????? ?????????...');
            
            // ?????? ??? ??? ????? unified-icons.js
            setTimeout(function() {
                // ????? ?? ???? ????? ?????????
                const settingsButtons = document.querySelectorAll('.settings-toggle-btn');
                const settingsMenus = document.querySelectorAll('.settings-menu');
                
                console.log('?? ?????? ??? ????? ?????????:', settingsButtons.length);
                console.log('?? ?????? ??? ????? ?????????:', settingsMenus.length);
                
                // ????? ????? ?????? ??? ?? ???????
                settingsButtons.forEach(function(btn, index) {
                    console.log('????? ?? ????????? ???:', index + 1);
                    
                    btn.addEventListener('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        
                        console.log('?? ????? ??? ?? ????????? ???:', index + 1);
                        
                        // ????? ?? ??????? ????????
                        let targetMenu = null;
                        
                        // ????? ?? ??????? ??????? ?? ????
                        const parentContainer = btn.closest('.top-icons, .mobile-icons, .main-icons-group');
                        if (parentContainer) {
                            targetMenu = parentContainer.querySelector('.settings-menu');
                        }
                        
                        // ??? ?? ??? ????? ?????? ???? ?? ?? ?????
                        if (!targetMenu && settingsMenus.length > 0) {
                            targetMenu = settingsMenus[0];
                        }
                        
                        if (targetMenu) {
                            console.log('???? ???/????? ???????');
                            
                            // ????? ???? ??????? ??????
                            settingsMenus.forEach(menu => {
                                if (menu !== targetMenu) {
                                    menu.classList.remove('show');
                                }
                            });
                            
                            // ???/????? ??????? ?????????
                            targetMenu.classList.toggle('show');
                            
                            // ????? ????? ????????
                            setupMenuOptions(targetMenu);
                        } else {
                            console.error('?? ??? ?????? ??? ????? ??????? ????');
                        }
                    });
                });
                
                // ???? ????? ?????? ???????
                function setupMenuOptions(menu) {
                    // ???? ???????
                    const contrastOption = menu.querySelector('.contrast-option');
                    const contrastSubmenu = menu.querySelector('.contrast-submenu');
                    
                    if (contrastOption && contrastSubmenu) {
                        contrastOption.onclick = function(e) {
                            e.preventDefault();
                            e.stopPropagation();
                            contrastSubmenu.classList.toggle('show');
                            console.log('?? ????? ??? ???? ???????');
                        };
                    }
                    
                    // ??????? ??????
                    const lightOption = menu.querySelector('.contrast-light');
                    if (lightOption) {
                        lightOption.onclick = function(e) {
                            e.preventDefault();
                            document.body.classList.remove('dark-mode');
                            localStorage.setItem('theme', 'light');
                            menu.classList.remove('show');
                            console.log('?? ????? ??????? ??????');
                        };
                    }
                    
                    // ??????? ??????
                    const darkOption = menu.querySelector('.contrast-dark');
                    if (darkOption) {
                        darkOption.onclick = function(e) {
                            e.preventDefault();
                            document.body.classList.add('dark-mode');
                            localStorage.setItem('theme', 'dark');
                            menu.classList.remove('show');
                            console.log('?? ????? ??????? ??????');
                        };
                    }
                    
                    // ???? ??????????
                    const statsOption = menu.querySelector('.stats-option');
                    if (statsOption) {
                        statsOption.onclick = function(e) {
                            e.preventDefault();
                            window.location.href = './pages/analytics.html';
                        };
                    }
                    
                    // ???? ????? ??????
                    const logoutOption = menu.querySelector('.logout-option');
                    if (logoutOption) {
                        logoutOption.onclick = function(e) {
                            e.preventDefault();
                            e.stopPropagation();
                            
                            console.log('?? ????? ??? ?? ????? ?????? ?? ????? ?????????');
                            
                            // ????? ????? ??????
                            if (confirm('?? ??? ????? ?? ????? ?? ????? ???????')) {
                                // ????? ????? ?????????
                                menu.classList.remove('show');
                                
                                // ????? ?????? ????? ?????? ?? ????????
                                const mobileProfileBtn = document.getElementById('mobile-profile-btn');
                                if (mobileProfileBtn) {
                                    mobileProfileBtn.style.display = 'none';
                                    console.log('?? ????? ?????? ????? ?????? ?? ????????');
                                }
                                
                                // ????? ?????? ????? ?????? ?? ?????????
                                const desktopProfileBtn = document.querySelector('.profile-icon-btn');
                                if (desktopProfileBtn) {
                                    desktopProfileBtn.style.display = 'none';
                                    console.log('?? ????? ?????? ????? ?????? ?? ?????????');
                                }
                                
                                // ????? ????? ????? ??????
                                const loginButtons = document.querySelectorAll('.login-btn');
                                loginButtons.forEach(btn => {
                                    btn.style.display = 'block';
                                    console.log('?? ????? ?? ????? ??????');
                                });
                                
                                // ????? class ???????? ??????? ?? body
                                document.body.classList.remove('user-logged-in');
                                
                                // ??? ?????? ????? ?????? ?? localStorage
                                localStorage.removeItem('currentUser');
                                localStorage.removeItem('userLoggedIn');
                                localStorage.removeItem('userLoginTime');
                                localStorage.removeItem('userProfile');
                                localStorage.removeItem('authToken');
                                
                                // ????? ?? ????? ?????? ????????
                                const userModals = document.querySelectorAll('#user-dashboard-modal, .profile-edit-modal');
                                userModals.forEach(modal => {
                                    if (modal.style) {
                                        modal.style.display = 'none';
                                    }
                                    modal.classList.remove('show');
                                });
                                
                                // ????? ????? ????? ??????
                                setTimeout(() => {
                                    alert('?? ????? ????? ?????. ????? ???????? ???? ???????!');
                                }, 100);
                                
                                console.log('? ?? ????? ?????? ????? ?????? ????? ???? ??????');
                            } else {
                                console.log('?? ????? ????? ????? ??????');
                                menu.classList.remove('show');
                            }
                        };
                    }
                }
                
                // ????? ??????? ??? ????? ??????
                document.addEventListener('click', function(e) {
                    let clickedOnButton = false;
                    settingsButtons.forEach(btn => {
                        if (btn.contains(e.target)) {
                            clickedOnButton = true;
                        }
                    });
                    
                    if (!clickedOnButton) {
                        settingsMenus.forEach(menu => {
                            if (!menu.contains(e.target)) {
                                menu.classList.remove('show');
                            }
                        });
                    }
                });
                
                console.log('? ?? ????? ????? ????? ????????? ?????');
                
                // ????? ?????? ????????? ????? ??????
                console.log('?? ????? ?????? ?????????...');
                setupProfileIcon();
                
                // ????? ????? ????? ????? ????? ?????? ?? ??????
                const allLogoutButtons = document.querySelectorAll('.logout-option, .logout-btn, a[href*="logout"], [onclick*="logout"]');
                allLogoutButtons.forEach((logoutBtn, index) => {
                    console.log('????? ?? ????? ???? ????? ???:', index + 1);
                    
                    // ????? ??????? ???????
                    const newLogoutBtn = logoutBtn.cloneNode(true);
                    if (logoutBtn.parentNode) {
                        logoutBtn.parentNode.replaceChild(newLogoutBtn, logoutBtn);
                    }
                    
                    // ????? ????? ????? ?????? ???????
                    newLogoutBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        e.stopImmediatePropagation();
                        
                        console.log('?? ????? ??? ?? ????? ???? ???? ???:', index + 1);
                        performLogout();
                        
                        return false;
                    }, true);
                });
                
                // ???? ????? ?????? ???????
                function performLogout() {
                    console.log('?? ??? ????? ????? ?????? ???????...');
                    
                    // ????? ????? ??????
                    if (confirm('?? ??? ????? ?? ????? ?? ????? ???????')) {
                        // ????? ???? ??????? ????????
                        const allMenus = document.querySelectorAll('.settings-menu, .mobile-settings-menu');
                        allMenus.forEach(menu => menu.classList.remove('show'));
                        
                        const allModals = document.querySelectorAll('.modal, [id*="modal"], [class*="modal"]');
                        allModals.forEach(modal => {
                            if (modal.style) modal.style.display = 'none';
                            modal.classList.remove('show');
                        });
                        
                        // ????? ??????? ????? ??????
                        const profileIcons = document.querySelectorAll('.profile-icon-btn, #mobile-profile-btn, .profile-btn');
                        profileIcons.forEach(icon => {
                            icon.style.display = 'none';
                        });
                        
                        // ????? ????? ????? ??????
                        const loginButtons = document.querySelectorAll('.login-btn');
                        loginButtons.forEach(btn => {
                            btn.style.display = 'block';
                        });
                        
                        // ????? ???? ???????? ???????
                        document.body.classList.remove('user-logged-in');
                        
                        // ??? ???? ?????? ????????
                        const keysToRemove = [
                            'currentUser', 'userLoggedIn', 'userLoginTime', 
                            'userProfile', 'authToken', 'userData', 'loginState'
                        ];
                        keysToRemove.forEach(key => localStorage.removeItem(key));
                        
                        // ????? ????? ???? ??????
                        document.body.style.overflow = 'auto';
                        
                        // ????? ????
                        setTimeout(() => {
                            alert('?? ????? ????? ?????. ????? ???????? ???? ???????!');
                        }, 100);
                        
                        console.log('? ?? ????? ?????? ?????');
                        
                        // ????? ????? ?????? ??? 2 ????? (???????)
                        // setTimeout(() => {
                        //     window.location.reload();
                        // }, 2000);
                        
                    } else {
                        console.log('?? ????? ????? ????? ??????');
                    }
                                 }
                 
                 // ???? ????? ?????? ????????? ????? ??????
                 function setupProfileIcon() {
                     console.log('?? ????? ?????? ????????? ????? ??????...');
                     
                     // ????? ?? ?????? ????????? ???????? ??????????
                     const mobileProfileBtn = document.getElementById('mobile-profile-btn');
                     const desktopProfileBtn = document.querySelector('.profile-icon-btn');
                     
                     // ?????? ?? ???? ????? ??????
                     const isLoggedIn = checkUserLoginStatus();
                     console.log('?? ???? ????? ??????:', isLoggedIn);
                     
                     // ????? ?????? ????????
                     if (mobileProfileBtn) {
                         if (isLoggedIn) {
                             mobileProfileBtn.style.display = 'block';
                             console.log('? ?? ????? ?????? ????????? ????????');
                         } else {
                             mobileProfileBtn.style.display = 'none';
                         }
                         
                         // ??? ????? ??? ???????
                         if (!mobileProfileBtn.hasAttribute('data-profile-setup')) {
                             mobileProfileBtn.addEventListener('click', function(e) {
                                 e.preventDefault();
                                 e.stopPropagation();
                                 
                                 console.log('?? ?? ????? ??? ?????? ????????? ????????');
                                 openProfileModal();
                             }, true);
                             
                             mobileProfileBtn.setAttribute('data-profile-setup', 'true');
                         }
                     }
                     
                     // ????? ?????? ?????????
                     if (desktopProfileBtn) {
                         if (isLoggedIn) {
                             desktopProfileBtn.style.display = 'inline-block';
                             console.log('? ?? ????? ?????? ????????? ?????????');
                         } else {
                             desktopProfileBtn.style.display = 'none';
                         }
                         
                         // ??? ????? ??? ???????
                         if (!desktopProfileBtn.hasAttribute('data-profile-setup')) {
                             desktopProfileBtn.addEventListener('click', function(e) {
                                 e.preventDefault();
                                 e.stopPropagation();
                                 
                                 console.log('?? ?? ????? ??? ?????? ????????? ?????????');
                                 openProfileModal();
                             }, true);
                             
                             desktopProfileBtn.setAttribute('data-profile-setup', 'true');
                         }
                     }
                     
                     // ?????? ??????? ???? ????? ??????
                     setupLoginStatusWatcher();
                 }
                 
                 // ???? ?????? ?? ???? ????? ??????
                 function checkUserLoginStatus() {
                     // ?????? ?? localStorage
                     const userData = localStorage.getItem('currentUser');
                     if (userData) {
                         try {
                             const user = JSON.parse(userData);
                             return user && user.isLoggedIn === true;
                         } catch (e) {
                             return false;
                         }
                     }
                     
                     // ?????? ?? ??????? ????
                     if (localStorage.getItem('userLoggedIn') === 'true') {
                         return true;
                     }
                     
                     // ?????? ?? body class
                     if (document.body.classList.contains('user-logged-in')) {
                         return true;
                     }
                     
                     return false;
                 }
                 
                 // ???? ??? ????? ????? ??????
                 function openProfileModal() {
                     console.log('?? ??? ????? ????? ??????...');
                     
                     // ?????? ??????? ProfileButtonManager ??? ??? ???????
                     if (typeof ProfileButtonManager !== 'undefined' && ProfileButtonManager.showModal) {
                         console.log('?? ??????? ProfileButtonManager...');
                         ProfileButtonManager.showModal();
                         return;
                     }
                     
                     // ????? ?? ??????? ????????
                     let profileModal = document.getElementById('user-dashboard-modal');
                     
                     if (profileModal) {
                         console.log('? ?? ?????? ??? ???????? ???? ?????...');
                         
                         // ????? ???? ??????? ??????
                         const allModals = document.querySelectorAll('.modal, [id*="modal"], [class*="modal"]');
                         allModals.forEach(modal => {
                             if (modal.style && modal !== profileModal) {
                                 modal.style.display = 'none';
                                 modal.classList.remove('show');
                             }
                         });
                         
                         // ????? ???????
                         profileModal.style.display = 'flex';
                         profileModal.style.alignItems = 'center';
                         profileModal.style.justifyContent = 'center';
                         profileModal.style.position = 'fixed';
                         profileModal.style.zIndex = '99999';
                         profileModal.style.left = '0';
                         profileModal.style.top = '0';
                         profileModal.style.width = '100%';
                         profileModal.style.height = '100%';
                         profileModal.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
                         profileModal.classList.add('show');
                         
                         document.body.style.overflow = 'hidden';
                         
                         // ????? ??? ????????
                         updateProfileModalContent(profileModal);
                         
                         console.log('? ?? ??? ????? ????? ?????? ?????');
                         
                     } else {
                         console.warn('?? ?? ??? ?????? ??? ????? ????? ??????');
                         // ????? ????? ??? ???? ?????
                         createNewProfileModal();
                     }
                 }
                 
                 // ???? ????? ????? ???????
                 function updateProfileModalContent(modal) {
                     if (!modal) return;
                     
                     // ????? ??? ????????
                     const userNameElement = modal.querySelector('.user-name');
                     if (userNameElement) {
                         const userData = getCurrentUser();
                         if (userData && userData.name) {
                             userNameElement.textContent = userData.name;
                         } else if (userData && userData.username) {
                             userNameElement.textContent = userData.username;
                         } else {
                             userNameElement.textContent = '????????';
                         }
                     }
                 }
                 
                 // ???? ?????? ??? ?????? ???????? ??????
                 function getCurrentUser() {
                     const userData = localStorage.getItem('currentUser');
                     if (userData) {
                         try {
                             return JSON.parse(userData);
                         } catch (e) {
                             return null;
                         }
                     }
                     return null;
                 }
                 
                 // ???? ????? ????? ????? ?????? ???????
                 function createNewProfileModal() {
                     console.log('?? ????? ????? ??? ???? ?????...');
                     
                     // ????? ?? ????? ?????? ??????
                     const existingModal = document.getElementById('new-profile-modal');
                     if (existingModal) {
                         existingModal.remove();
                     }
                     
                     // ?????? ??? ?????? ????????
                     const userData = getCurrentUser();
                     const userName = (userData && userData.name) ? userData.name : (userData && userData.username) ? userData.username :'?????? ??????';
                     
                     // ????? HTML ??????? ???????
                     const modalHTML = `
                         <div id="new-profile-modal" class="profile-modal-overlay" style="
                             position: fixed;
                             top: 0;
                             left: 0;
                             width: 100%;
                             height: 100%;
                             background: rgba(0, 0, 0, 0.5);
                             display: flex;
                             align-items: center;
                             justify-content: center;
                                          z-index: 99999;
             font-family: 'Droid Arabic Kufi';
                         ">
                                                           <div class="profile-modal-content" style="
                                  background: white;
                                  border-radius: 20px;
                                  padding: 0;
                                  width: 100%;
                                  max-width: 800px;
                                  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
                                  position: relative;
                                  overflow: hidden;
                              ">
                                                                   <!-- Header -->
                                  <div style="
                                      background: rgba(0, 0, 0, 0.05);
                                      padding: 20px;
                                      text-align: center;
                                      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
                                      position: relative;
                                  ">
                                      <h3 style="
                                          color: #2D3748;
                                          margin: 0 0 5px 0;
                                          font-size: 20px;
                                          font-weight: 600;
                                      ">${userName}</h3>
                                      <p style="
                                          color: #718096;
                                          margin: 0;
                                          font-size: 14px;
                                      ">????? Manal Mohamed taha</p>
                                      
                                      <button class="close-profile-modal" style="
                                          position: absolute;
                                          top: 15px;
                                          right: 15px;
                                          background: none;
                                          border: none;
                                          color: #2D3748;
                                          font-size: 24px;
                                          cursor: pointer;
                                          width: 30px;
                                          height: 30px;
                                          display: flex;
                                          align-items: center;
                                          justify-content: center;
                                          border-radius: 50%;
                                          transition: background 0.3s;
                                      " onmouseover="this.style.background='rgba(0,0,0,0.1)'" 
                                         onmouseout="this.style.background='none'">&times;</button>
                                  </div>
                                 
                                 <!-- Content -->
                                 <div style="padding: 30px 20px;">
                                     <!-- Row 1 -->
                                     <div style="
                                         display: grid;
                                         grid-template-columns: 1fr 1fr;
                                         gap: 15px;
                                         margin-bottom: 25px;
                                         justify-items: center;
                                     ">

                                         <button class="profile-action-btn" data-action="edit-profile" style="
                                             // width: 342px;
                                             // height: 89px;
                                             justify-content: space-between;
                                             border-radius: 16px;
                                             padding-top: 22px;
                                             padding-right: 50px;
                                             padding-bottom: 22px;
                                             padding-left: 50px;
                                             background: #2D3748;
                                             color: white;
                                             border: none;
                                             font-family: 'Droid Arabic Kufi';
                                             font-size: 16px;
                                             font-weight: 500;
                                             cursor: pointer;
                                             display: flex;
                                             align-items: center;
                                             text-align: center;
                                             margin-bottom: 20px !important;
                                         ">
                                         ??? ???????
                                         <img src="assets/icons/edit.png" alt="edit" style="width: 20px; height: 20px; margin-right: 8px;">
                                         </button>


                                         <button class="profile-action-btn" data-action="asanid-service" style="
                                            //  width: 342px;
                                            //  height: 89px;
                                             justify-content: space-between;
                                             border-radius: 16px;
                                             padding-top: 22px;
                                             padding-right: 50px;
                                             padding-bottom: 22px;
                                             padding-left: 50px;
                                             background: #2D3748;
                                             color: white;
                                             border: none;
                                             font-family: 'Droid Arabic Kufi';
                                             font-size: 16px;
                                             font-weight: 500;
                                             cursor: pointer;
                                             display: flex;
                                             align-items: center;
                                             text-align: center;
                                             margin-bottom: 20px !important;
                                         ">
                                             ??? ???? ????????
                                         </button>
                                         
                                        
                                     </div>
                                     
                                     <!-- Row 2 -->
                                     <div style="
                                         display: grid;
                                         grid-template-columns: 1fr 1fr;
                                         gap: 15px;
                                         margin-bottom: 25px;
                                         justify-items: center;
                                     ">

                                             <button class="profile-action-btn" data-action="customer-service" style="
                                             //  width: 342px;
                                             //  height: 89px;
                                             justify-content: space-between;
                                             border-radius: 16px;
                                             padding-top: 22px;
                                             padding-right: 50px;
                                             padding-bottom: 22px;
                                             padding-left: 50px;
                                             background: #2D3748;
                                             color: white;
                                             border: none;
                                             font-family: 'Droid Arabic Kufi';
                                             font-size: 16px;
                                             font-weight: 500;
                                             cursor: pointer;
                                             display: flex;
                                             align-items: center;
                                             text-align: center;
                                         ">
                                         ???? ???????
                                         <img src="assets/icons/Mask group.svg" alt="customer service" style="width: 20px; height: 20px; margin-right: 8px;">
                                         </button>


                                         <button class="profile-action-btn" data-action="self-help" style="
                                             //  width: 342px;
                                             //  height: 89px;
                                             justify-content: space-between;
                                             border-radius: 16px;
                                             padding-top: 22px;
                                             padding-right: 50px;
                                             padding-bottom: 22px;
                                             padding-left: 50px;
                                             background: #2D3748;
                                             color: white;
                                             border: none;
                                             font-family: 'Droid Arabic Kufi';
                                             font-size: 16px;
                                             font-weight: 500;
                                             cursor: pointer;
                                             display: flex;
                                             align-items: center;
                                             text-align: center;
                                         ">
                                         ???????? ???????
                                         <img src="assets/icons/message-search.svg" alt="self help" style="width: 20px; height: 20px; margin-right: 8px;">
                                         </button>
                                         
                                    
                                     </div>
                                     
                                     <!-- Row 3 - Logout Button -->
                                     <div style="margin-top: 30px; display: flex; justify-content: center;">
                                         <button class="profile-action-btn" data-action="logout" style="
                                             width: 342px;
                                             height: 89px;
                                             justify-content: center;
                                             align-items: center;
                                             text-align: center;
                                             border-radius: 16px;
                                             padding-top: 22px;
                                             padding-right: 50px;
                                             padding-bottom: 22px;
                                             padding-left: 50px;
                                             background: #D63327;
                                             color: white;
                                             border: none;
                                             font-family: 'Droid Arabic Kufi';
                                             font-size: 18px;
                                             font-weight: 600;
                                             cursor: pointer;
                                             display: flex;
                                             align-items: center;
                                             text-align: center;
                                         ">
                                             ????? ??????
                                             <img src="assets/icons/exit.svg" alt="exit" style="width: 20px; height: 20px; margin-right: 8px;">
                                         </button>
                                     </div>
                                 </div>
                             </div>
                         </div>
                     `;
                     
                     // ????? ??????? ??????
                     document.body.insertAdjacentHTML('beforeend', modalHTML);
                     document.body.style.overflow = 'hidden';
                     
                     // ????? ????? ???????
                     setupNewProfileModalEvents();
                     
                     console.log('? ?? ????? ????? ????? ?????? ??????? ?????');
                 }
                 
                 // ???? ????? ????? ??????? ???????
                 function setupNewProfileModalEvents() {
                     const modal = document.getElementById('new-profile-modal');
                     if (!modal) return;
                     
                     // ????? ???????
                     const closeBtn = modal.querySelector('.close-profile-modal');
                     const overlay = modal;
                     
                     function closeModal() {
                         modal.remove();
                         document.body.style.overflow = 'auto';
                     }
                     
                     closeBtn.addEventListener('click', closeModal);
                     overlay.addEventListener('click', function(e) {
                         if (e.target === overlay) {
                             closeModal();
                         }
                     });
                     
                     // ????? ????? ??????
                     const actionButtons = modal.querySelectorAll('.profile-action-btn');
                     actionButtons.forEach(btn => {
                         btn.addEventListener('click', function(e) {
                             e.preventDefault();
                             const action = this.getAttribute('data-action');
                             
                             switch(action) {
                                 case 'asanid-service':
                                     console.log('??? ???? ???????? ?? ??????? ???????');
                                     closeModal();
                                     // ??? ????? ????????
                                     if (typeof showAsanidServicePopup === 'function') {
                                         showAsanidServicePopup();
                                     } else {
                                         window.location.href = './pages/asanid-service.html';
                                     }
                                     break;
                                     
                                 case 'edit-profile':
                                     console.log('??? ????? ???????? ?? ??????? ???????');
                                     closeModal();
                                     showEditProfileModal();
                                     break;
                                     
                                 case 'self-help':
                                     console.log('??? ???????? ??????? ?? ??????? ???????');
                                     closeModal();
                                     window.location.href = './pages/self-help.html';
                                     break;
                                     
                                 case 'customer-service':
                                     console.log('??? ???? ??????? ?? ??????? ???????');
                                     closeModal();
                                     window.location.href = './pages/customer-service.html';
                                     break;
                                     
                                 case 'logout':
                                     console.log('????? ?????? ?? ??????? ???????');
                                     closeModal();
                                     performLogout();
                                     break;
                             }
                         });
                     });
                     
                     // ????? ??????? keyboard
                     document.addEventListener('keydown', function(e) {
                         if (e.key === 'Escape' && document.getElementById('new-profile-modal')) {
                             closeModal();
                         }
                     });
                 }
                 
                 // ???? ?????? ??????? ???? ????? ??????
                 function setupLoginStatusWatcher() {
                     // ?????? ??????? localStorage
                     let lastLoginStatus = checkUserLoginStatus();
                     
                     setInterval(function() {
                         const currentLoginStatus = checkUserLoginStatus();
                         if (currentLoginStatus !== lastLoginStatus) {
                             console.log('?? ?????? ???? ????? ?????? ??', lastLoginStatus, '???', currentLoginStatus);
                             
                             // ????? ?????/????? ?????????
                             const mobileProfileBtn = document.getElementById('mobile-profile-btn');
                             const desktopProfileBtn = document.querySelector('.profile-icon-btn');
                             
                             if (mobileProfileBtn) {
                                 mobileProfileBtn.style.display = currentLoginStatus ? 'block' : 'none';
                                 console.log('?? ????? ?? ????????? ????????:', currentLoginStatus ? '?????' : '?????');
                             }
                             
                             if (desktopProfileBtn) {
                                 desktopProfileBtn.style.display = currentLoginStatus ? 'inline-block' : 'none';
                                 console.log('?? ????? ?? ????????? ?????????:', currentLoginStatus ? '?????' : '?????');
                             }
                             
                             lastLoginStatus = currentLoginStatus;
                         }
                     }, 1000);
                 }
                 
                 // ???? ????? ????? ??? ???? ????????
        function showAsanidServicePopup() {
                     console.log('?? ??? ????? ??? ???? ????????...');
                     
            // ????? ?? ????? ?????? ??????
            const existingModal = document.getElementById('asanid-mobile-modal');
            if (existingModal) {
                existingModal.remove();
            }

                     // ????? HTML ??????? ????????
            const modalHTML = `
                <div id="asanid-mobile-modal" style="
                    display: block;
                    position: fixed;
                    z-index: 10000;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    background-color: rgba(0, 0, 0, 0.5);
                    direction: rtl;
                    overflow: auto;
                             padding: 80px 0 20px 0;
                ">
                    <div style="
                        background-color: white;
                        margin: auto;
                        width: 90%;
                        max-width: 600px;
                        border-radius: 20px;
                                 padding: 20px;
                        position: relative;
                        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
                        margin-bottom: 40px;
                                 max-height: 90vh;
                                 overflow-y: auto;
                    ">
                        <span id="closeAsanidModal" style="
                            position: absolute;
                            left: 20px;
                            top: 15px;
                            font-size: 30px;
                            font-weight: bold;
                            cursor: pointer;
                            color: #aaa;
                        ">&times;</span>
                        
                        <h2 style="
                                     font-family: 'Droid Arabic Kufi';
                            font-weight: 700;
                            font-size: 21.99px;
                            line-height: 150%;
                            letter-spacing: 0%;
                            text-align: center;
                            color: #00a19a;
                            margin-bottom: 25px !important;
                        ">???? ???????? ?????????</h2>
                        
                        <form id="asanidContactForm" style="
                                     display: flex;
                                     flex-direction: column;
                                     gap: 12px;
                                     width: 100%;
                        ">
                            <!-- ????? ??????? -->
                            <div style="padding: 0 !important;">
                                <input type="text" id="fullName" placeholder="????? ???????" style="
                                    width: 100%;
                                    height: 45px;
                                    border-radius: 10px;
                                    border: 1px solid #e0e0e0;
                                    padding: 0 15px;
                                    text-align: right;
                                             font-family: 'Droid Arabic Kufi';
                                    font-size: 14px;
                                    box-sizing: border-box;
                                    background-color: #f8f9fa;
                                    margin: 0 !important;
                                ">
                            </div>
                            
                                     <!-- ?????? ?????????? -->
                            <div style="padding: 0 !important;">
                                         <input type="email" id="email" placeholder="?????? ??????????" style="
                                    width: 100%;
                                    height: 45px;
                                    border-radius: 10px;
                                    border: 1px solid #e0e0e0;
                                    padding: 0 15px;
                                    text-align: right;
                                             font-family: 'Droid Arabic Kufi';
                                    font-size: 14px;
                                    box-sizing: border-box;
                                    background-color: #f8f9fa;
                                    margin: 0 !important;
                                ">
                            </div>
                            
                                     <!-- ??? ?????? -->
                                     <div style="
                                         padding: 0 !important; 
                                         display: flex; 
                                         gap: 8px; 
                                    width: 100%;
                                    box-sizing: border-box;
                                     ">
                                <input type="tel" id="phone" placeholder="??? ??????" style="
                                    flex: 1;
                                             min-width: 0;
                                    height: 45px;
                                    border-radius: 10px;
                                    border: 1px solid #e0e0e0;
                                             padding: 0 12px;
                                    text-align: right;
                                             font-family: 'Droid Arabic Kufi';
                                    font-size: 14px;
                                    box-sizing: border-box;
                                    background-color: #f8f9fa;
                                    margin: 0 !important;
                                ">
                                         <div class="country-code-select" style="
                                    width: 80px;
                                    height: 45px;
                                             border-radius: 12px;
                                             border: 1px solid #ddd;
                                    display: flex;
                                    align-items: center;
                                    justify-content: center;
                                    background-color: #f8f9fa;
                                             gap: 3px;
                                             flex-shrink: 0;
                                             box-sizing: border-box;
                                             padding: 0 8px;
                                ">
                                           
                                             <img src="assets/icons/call-arrow.svg" alt="Arrow" class="arrow-icon" style="width: 8px; height: 8px; opacity: 0.6;">
                                             <span class="code" style="font-family: 'Droid Arabic Kufi'; font-size: 12px; color: #666; font-weight: 500;">+20</span>
                                </div>
                            </div>
                            
                            <!-- ??????? -->
                            <div style="padding: 0 !important;">
                                <textarea id="subject" placeholder="???????" style="
                                    width: 100%;
                                    height: 120px;
                                    border-radius: 10px;
                                    border: 1px solid #e0e0e0;
                                    padding: 15px;
                                    text-align: right;
                                    font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                    font-size: 14px;
                                    box-sizing: border-box;
                                    background-color: #f8f9fa;
                                    resize: vertical;
                                    min-height: 120px;
                                    margin: 0 !important;
                                "></textarea>
                            </div>
                            
                            <!-- ???? ???????? -->
                            <div style="padding: 0 !important; text-align: right;">
                                <h4 style="
                                    font-family: Droid Arabic Kufi;
                                    font-weight: 400;
                                    font-size: 8.57px;
                                    line-height: 150%;
                                    letter-spacing: 0%;
                                    text-align: right;
                                    color: #00a19a;
                                    margin: 0 0 5px 0 !important;
                                ">?????? ??????:</h4>
                                <p style="
                                    font-family: Droid Arabic Kufi;
                                    font-weight: 400;
                                    font-size: 7.35px;
                                    line-height: 150%;
                                    letter-spacing: 0%;
                                    text-align: right;
                                    color: #666;
                                    margin: 0 !important;
                                ">???? ??? ??? ??? ????? ???????? ???????? ?? ???? ??? ???? ?????? ???????? ??? ??? ?????? ??????????</p>
                            </div>
                            
                            <!-- ?? ??????? -->
                            <button type="button" id="submitAsanidForm" style="
                                width: 100%;
                                height: 45px;
                                background-color: #00a19a;
                                color: white;
                                border: none;
                                border-radius: 10px;
                                font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                font-size: 16px;
                                font-weight: bold;
                                cursor: pointer;
                                transition: background-color 0.3s ease;
                                margin: 0 !important;
                            ">?????</button>
                        </form>
                    </div>
                </div>
            `;

                     // ????? ??????? ??????
            document.body.insertAdjacentHTML('beforeend', modalHTML);

            // ????? ???????
            const modal = document.getElementById('asanid-mobile-modal');
            const closeBtn = document.getElementById('closeAsanidModal');
            const submitBtn = document.getElementById('submitAsanidForm');

            // ????? ???????
            const closeModal = () => {
                modal.remove();
                         document.body.style.overflow = 'auto';
            };

            closeBtn.addEventListener('click', closeModal);
            
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal();
                }
            });

            // ????? hover ??? ????
            submitBtn.addEventListener('mouseenter', function() {
                this.style.backgroundColor = '#008f89';
            });
            
            submitBtn.addEventListener('mouseleave', function() {
                this.style.backgroundColor = '#00a19a';
            });

            // ?????? ????? ???????
            submitBtn.addEventListener('click', function() {
                const fullName = document.getElementById('fullName').value;
                const email = document.getElementById('email').value;
                const phone = document.getElementById('phone').value;
                const subject = document.getElementById('subject').value;

                // ?????? ?? ??? ?????? ????????
                if (!fullName || !email || !subject) {
                    alert('???? ??? ?????? ????????: ????? ???????? ?????? ??????????? ????????');
                    return;
                }

                // ?????? ?? ??? ?????? ??????????
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email)) {
                    alert('???? ????? ???? ???????? ????');
                    return;
                }

                alert('?? ????? ????? ?????! ??????? ???? ?????? ??? ?????? ?????????? ???????.');
                closeModal();
            });
                     
                     // ??? ??????? ?? ???????
                     document.body.style.overflow = 'hidden';
                     
                     console.log('? ?? ????? ????? ???? ???????? ?????');
                 }
                 
                 // ???? ????? ????? ????? ????????
                 function showEditProfileModal() {
                     console.log('?? ??? ????? ????? ????????...');
                     
            // ????? ?? ????? ?????? ??????
                     const existingModal = document.getElementById('edit-profile-modal');
            if (existingModal) {
                existingModal.remove();
            }

                     // ?????? ??? ?????? ???????? ???????
                     const userData = getCurrentUser();
                     const currentName = (userData && userData.name) ? userData.name : '';
                     const currentEmail = (userData && userData.email) ? userData.email : '';
                     const currentPhone = (userData && userData.phone) ? userData.phone : '';

                     // ????? HTML ??????? ????????
            const modalHTML = `
                         <div id="edit-profile-modal" style="
                    display: block;
                    position: fixed;
                             z-index: 10000;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    background-color: rgba(0, 0, 0, 0.5);
                    direction: rtl;
                    overflow: auto;
                             padding: 60px 0 20px 0;
                ">
                    <div style="
                        background-color: white;
                                 margin: auto;
                                 width: 85%;
                                 max-width: 420px;
                                 border-radius: 15px;
                                 padding: 20px;
                        position: relative;
                        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
                    ">
                                 <span id="closeEditProfileModal" style="
                            position: absolute;
                                     left: 12px;
                                     top: 12px;
                                     font-size: 20px;
                            font-weight: bold;
                            cursor: pointer;
                                     color: #999;
                        ">&times;</span>
                        
                        <h2 style="
                            font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                            font-weight: 700;
                                     font-size: 18px;
                            text-align: center;
                            color: #00a19a;
                                     margin: 0 0 15px 0;
                                 ">????? ?????? ??????</h2>
                        
                                 <form id="editProfileForm" style="
                            display: flex;
                            flex-direction: column;
                            gap: 10px;
                        ">
                                                                          <!-- ??? ???????? -->
                                     <div style="position: relative;">
                                         <select id="userType" style="
                                    width: 100%;
                                             height: 40px;
                                    border-radius: 10px;
                                             border: 1px solid #ddd;
                                             padding: 0 15px 0 45px;
                                    text-align: right;
                                    font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                             font-size: 14px;
                                    background-color: #f8f9fa;
                                             color: #999;
                                    appearance: none;
                                             box-sizing: border-box;
                                         ">
                                             <option value="">??? ????????</option>
                                             <option value="individual">???</option>
                                             <option value="company">????</option>
                                             <option value="organization">?????</option>
                                         </select>
                                         <div style="
                                             position: absolute;
                                             left: 15px;
                                             top: 50%;
                                             transform: translateY(-50%);
                                             width: 0;
                                             height: 0;
                                             border-left: 5px solid transparent;
                                             border-right: 5px solid transparent;
                                             border-top: 5px solid #999;
                                             pointer-events: none;
                                         "></div>
                            </div>
                            
                                     <!-- ?????? ?????????? -->
                                     <input type="email" id="editEmail" value="${currentEmail}" placeholder="?????? ??????????" style="
                                    width: 100%;
                                         height: 40px;
                                    border-radius: 10px;
                                         border: 1px solid #ddd;
                                    padding: 0 15px;
                                    text-align: right;
                                    font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                         font-size: 14px;
                                         background-color: #f8f9fa;
                                         color: #999;
                                    box-sizing: border-box;
                                     ">
                                     
                                     <!-- ????? ?????? ???? -->
                                     <h3 style="
                                         font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                         font-weight: 600;
                                         font-size: 14px;
                                         text-align: center;
                                         color: #00a19a;
                                         margin: 10px 0 8px 0;
                                     ">?????? ????</h3>
                                     
                                     <!-- ??????? -->
                                     <div style="position: relative;">
                                         <select id="city" style="
                                             width: 100%;
                                             height: 40px;
                                             border-radius: 10px;
                                             border: 1px solid #ddd;
                                             padding: 0 15px 0 45px;
                                             text-align: right;
                                             font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                             font-size: 14px;
                                    background-color: #f8f9fa;
                                             color: #999;
                                    appearance: none;
                                             box-sizing: border-box;
                                         ">
                                             <option value="">???????</option>
                                             <option value="riyadh">??????</option>
                                             <option value="jeddah">???</option>
                                             <option value="dammam">??????</option>
                                             <option value="mecca">??? ???????</option>
                                             <option value="medina">??????? ???????</option>
                                         </select>
                                         <div style="
                                             position: absolute;
                                             left: 15px;
                                             top: 50%;
                                             transform: translateY(-50%);
                                             width: 0;
                                             height: 0;
                                             border-left: 5px solid transparent;
                                             border-right: 5px solid transparent;
                                             border-top: 5px solid #999;
                                             pointer-events: none;
                                         "></div>
                            </div>
                            
                                     <!-- ??????? ???????? -->
                                     <input type="text" id="detailedAddress" placeholder="??????? ????????" style="
                                    width: 100%;
                                         height: 40px;
                                    border-radius: 10px;
                                         border: 1px solid #ddd;
                                    padding: 0 15px;
                                    text-align: right;
                                    font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                         font-size: 14px;
                                         background-color: #f8f9fa;
                                         color: #999;
                                    box-sizing: border-box;
                                     ">
                                     
                                     <!-- ??? ?????? -->
                                     <input type="tel" id="editPhone" value="${currentPhone}" placeholder="??? ??????" style="
                                         width: 100%;
                                         height: 40px;
                                         border-radius: 10px;
                                         border: 1px solid #ddd;
                                         padding: 0 15px;
                                         text-align: right;
                                         font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                         font-size: 14px;
                                    background-color: #f8f9fa;
                                         color: #999;
                                         box-sizing: border-box;
                                     ">
                                     
                                     <!-- ??? ?????? ??????? ?? ?? ???? -->
                                     <div style="display: flex; gap: 10px;">
                                         <input type="tel" id="mobilePhone" placeholder="??????" style="
                                             width: 100%;
                                             max-width: 351.11px;
                                             height: 40px;
                                             border-radius: 10px;
                                             border: 1px solid #ddd;
                                             padding: 0 15px;
                                             text-align: right;
                                             font-family: 'Droid Arabic Kufi';
                                             font-size: 14px;
                                             background-color: #f8f9fa;
                                             color: #999;
                                             box-sizing: border-box;
                                         ">
                                         <div style="
                                             width: 80px;
                                             height: 40px;
                                             border-radius: 12px;
                                             border: 1px solid #ddd;
                                             display: flex;
                                             align-items: center;
                                             justify-content: center;
                                             background-color: #f8f9fa;
                                             gap: 3px;
                                             padding: 0 8px;
                                         ">
                                         
                                             <span style="font-family: 'Droid Arabic Kufi', Arial, sans-serif; font-size: 12px; color: #666; font-weight: 500;">+20</span>
                                             <img src="assets/icons/call-arrow.svg" alt="Arrow" style="width: 8px; height: 8px; opacity: 0.6;">
                                           <img src="../assets/icons/flag-for-flag-egypt-svgrepo-com 1.svg" alt="Egypt Flag" style="width: 16px; height: 11px;">

                                         </div>
                            </div>
                            
                                     <!-- ?????? -->
                                     <input type="tel" id="fax" placeholder="??????" style="
                                width: 100%;
                                         height: 40px;
                                         border-radius: 10px;
                                         border: 1px solid #ddd;
                                         padding: 0 15px;
                                         text-align: right;
                                         font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                         font-size: 14px;
                                         background-color: #f8f9fa;
                                         color: #999;
                                         box-sizing: border-box;
                                     ">
                                     
                                     <!-- ????? ?????? -->
                                     <input type="text" id="poBox" placeholder="????? ??????" style="
                                         width: 100%;
                                         height: 40px;
                                         border-radius: 10px;
                                         border: 1px solid #ddd;
                                         padding: 0 15px;
                                         text-align: right;
                                         font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                         font-size: 14px;
                                         background-color: #f8f9fa;
                                         color: #999;
                                         box-sizing: border-box;
                                     ">
                                     
                                     <!-- ????? ??????? -->
                                     <input type="text" id="postalCode" placeholder="????? ???????" style="
                                         width: 100%;
                                         height: 40px;
                                         border-radius: 10px;
                                         border: 1px solid #ddd;
                                         padding: 0 15px;
                                         text-align: right;
                                         font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                         font-size: 14px;
                                         background-color: #f8f9fa;
                                         color: #999;
                                         box-sizing: border-box;
                                     ">
                                     
                                     <!-- ?? ???????? ????????? -->
                                     <div style="
                                         text-align: center;
                                         margin: 10px 0 5px 0;
                                         font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                         font-size: 14px;
                                         color: #00a19a;
                                     ">
                                         <div style="font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                        font-weight: 400;
                                        font-size: 14px;
                                        line-height: 150%;
                                        letter-spacing: 0%;
                                        text-align: right;
                                        ">????? ????????? ?????</div>
                                         <div style="font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                        font-weight: 400;
                                        font-size: 12px;
                                        line-height: 150%;
                                        letter-spacing: 0%;
                                        text-align: right;
                                        color: #2D3748 !important;
                                        ">
                                             ????? ?????? ???????? ?????? 31/12/2025
                                         </div>
                                     </div>
                                     
                                     <!-- ????? ????? -->
                                     <div style="display: flex; gap: 10px; margin-top: 10px;">
                                         <button type="button" id="changePasswordBtn" style="
                                             flex: 1;
                                             height: 40px;
                                             background-color: #ff8c42;
                                             color: white;
                                             border: none;
                                             border-radius: 10px;
                                             font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                             font-size: 14px;
                                             font-weight: bold;
                                             cursor: pointer;
                                         ">????? ???? ??????</button>
                                         
                                         <button type="button" id="saveEditProfile" style="
                                             flex: 1;
                                             height: 40px;
                                background-color: #00a19a;
                                color: white;
                                border: none;
                                border-radius: 10px;
                                font-family: 'Droid Arabic Kufi', Arial, sans-serif;
                                             font-size: 14px;
                                font-weight: bold;
                                cursor: pointer;
                                         ">????? ???????</button>
                                     </div>
                        </form>
                    </div>
                </div>
            `;

                     // ????? ??????? ??????
            document.body.insertAdjacentHTML('beforeend', modalHTML);

            // ????? ???????
                     const modal = document.getElementById('edit-profile-modal');
                     const closeBtn = document.getElementById('closeEditProfileModal');
                     const changePasswordBtn = document.getElementById('changePasswordBtn');
                     const saveBtn = document.getElementById('saveEditProfile');

            // ????? ???????
            const closeModal = () => {
                modal.remove();
                         document.body.style.overflow = 'auto';
            };

            closeBtn.addEventListener('click', closeModal);
            
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal();
                }
            });

                     // ?? ????? ???? ??????
                     changePasswordBtn.addEventListener('click', function() {
                         console.log('?? ????? ??? ?? ????? ???? ??????');
                         
                         // ????? ????? ????? ???????? ?????
                         closeModal();
                         
                         // ??? ????? ????? ???? ??????
                         if (typeof PasswordChangeManager !== 'undefined') {
                             PasswordChangeManager.showPasswordChangeModal();
                         } else if (typeof showPasswordChangeModal !== 'undefined') {
                             showPasswordChangeModal();
                         } else {
                             console.error('? ???? ????? ???? ?????? ??? ?????');
                             alert('?????? ????? ????? ???? ?????? ??? ?????? ??????');
                         }
                     });

                     // ?????? ??? ?????????
                     saveBtn.addEventListener('click', function() {
                         const userType = document.getElementById('userType').value;
                         const email = document.getElementById('editEmail').value;
                         const city = document.getElementById('city').value;
                         const detailedAddress = document.getElementById('detailedAddress').value;
                         const phone = document.getElementById('editPhone').value;
                         const mobilePhone = document.getElementById('mobilePhone').value;
                         const fax = document.getElementById('fax').value;
                         const poBox = document.getElementById('poBox').value;
                         const postalCode = document.getElementById('postalCode').value;

                         // ?????? ?? ??? ?????? ????????
                         if (!email) {
                             alert('???? ??? ?????? ??????????');
                    return;
                }

                         // ?????? ?? ??? ?????? ??????????
                         const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                         if (!emailRegex.test(email)) {
                             alert('???? ????? ???? ???????? ????');
                    return;
                }

                         // ??? ???????? ?? localStorage
                         const updatedUser = {
                             name: currentName,
                             email: email,
                             userType: userType,
                             city: city,
                             detailedAddress: detailedAddress,
                             phone: phone,
                             mobilePhone: mobilePhone,
                             fax: fax,
                             poBox: poBox,
                             postalCode: postalCode,
                             isLoggedIn: true,
                             lastUpdated: new Date().toISOString()
                         };

                         localStorage.setItem('currentUser', JSON.stringify(updatedUser));

                         alert('?? ??? ????????? ?????!');
                    closeModal();
                     });
                     
                     // ??? ??????? ?? ???????
                     document.body.style.overflow = 'hidden';
                     
                     console.log('? ?? ????? ????? ????? ???????? ???????? ??????');
                 }
                 
                 // ???? ????? ????? ????? ???? ??????
        function showPasswordChangeModal() {
            console.log('?? ??? ????? ????? ???? ??????');
            const modal = document.getElementById('password-change-modal');
            if (modal) {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
                
                // ????? ??? ??? ???
                setTimeout(() => {
                    const firstInput = document.getElementById('currentPassword');
                    if (firstInput) {
                        firstInput.focus();
                    }
                }, 100);
            } else {
                console.error('? ?? ??? ?????? ??? ????? ????? ???? ??????');
            }
        }
        
        // ???? ????? ????? ????? ???? ??????
        function closePasswordModal() {
            console.log('?? ????? ????? ????? ???? ??????');
            const modal = document.getElementById('password-change-modal');
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
                
                // ??? ??????
                         const fields = ['currentPassword', 'newPassword', 'confirmPassword'];
                         fields.forEach(fieldId => {
                             const field = document.getElementById(fieldId);
                             if (field) {
                                 field.value = '';
                             }
                         });
                     }
                 }
                 
                 // ???? ?????? ????? ????? ????? ???? ??????
        function handlePasswordSubmit(event) {
            event.preventDefault();
            
                     const currentPassword = document.getElementById('currentPassword')?.value;
                     const newPassword = document.getElementById('newPassword')?.value;
                     const confirmPassword = document.getElementById('confirmPassword')?.value;
            
            console.log('?? ?????? ????? ???? ??????');
            
            // ?????? ?? ??? ???? ??????
            if (!currentPassword || !newPassword || !confirmPassword) {
                alert('???? ??? ???? ??????');
                return;
            }
            
            // ?????? ?? ??? ???? ?????? ???????
            if (newPassword.length < 6) {
                alert('???? ?????? ??????? ??? ?? ???? 6 ???? ??? ?????');
                return;
            }
            
            // ?????? ?? ????? ???? ?????? ??????? ?? ???????
            if (newPassword !== confirmPassword) {
                alert('???? ?????? ??????? ???????? ??? ?????????');
                return;
            }
            
            // ?????? ?? ?? ???? ?????? ??????? ?????? ?? ???????
            if (currentPassword === newPassword) {
                alert('???? ?????? ??????? ??? ?? ???? ?????? ?? ???????');
                return;
            }
            
            // ????? ???? ????? ?????
            const submitBtn = document.getElementById('submitPasswordChange');
                     if (submitBtn) {
            const originalText = submitBtn.textContent;
            
            submitBtn.textContent = '???? ?????...';
            submitBtn.style.backgroundColor = '#666';
            submitBtn.disabled = true;
            
            // ?????? ????? ?????
            setTimeout(() => {
                alert('?? ????? ???? ?????? ?????!');
                closePasswordModal();
                
                // ????? ????? ????
                submitBtn.textContent = originalText;
                submitBtn.style.backgroundColor = '#00a19a';
                submitBtn.disabled = false;
            }, 1500);
                     }
        }
        
                 // ????? ????? ????? ???? ??????? ?????? ????? ????? ???? ??????
        document.addEventListener('click', function(e) {
            const modal = document.getElementById('password-change-modal');
                     if (modal && e.target === modal) {
                closePasswordModal();
            }
        });
        
                 // ????? ?? ????????? ?????????
                 function fixDesktopProfileButton() {
                     const desktopBtn = document.querySelector('.profile-icon-btn');
                     
                     if (desktopBtn) {
                         // ?????? ?? ???? ????? ??????
                         const isLoggedIn = checkUserLoginStatus();
                         
                         if (isLoggedIn) {
                             // ????? ????
                             desktopBtn.style.display = 'inline-block';
                             desktopBtn.style.visibility = 'visible';
                         }
                         
                         // ????? ??????? ??????? ?????? ??? ????
                         const newBtn = desktopBtn.cloneNode(true);
                         desktopBtn.parentNode.replaceChild(newBtn, desktopBtn);
                         
                         // ??? ????? ??????
                    newBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                             openProfileModal();
                         });
                     }
                 }
                 
                 // ????? ??????? ??? ????? ??????
            setTimeout(() => {
                     fixDesktopProfileButton();
                 }, 2000);
                 

                 
            }, 1000);
        });
    </script>
    <script src="scripts/font-resize.js"></script>
</body>
</html>
